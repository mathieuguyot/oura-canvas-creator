{"version":3,"sources":["../../../src/node_editor/model.ts","../../../src/node_editor/pan_zoom.tsx","../../../../src/node_editor/theme/dark.ts","../../../../src/node_editor/theme/index.ts","../../../src/node_editor/background.tsx","../../../../src/node_editor/link/link_bezier.tsx","../../../../src/node_editor/link/link_line.tsx","../../../../src/node_editor/link/index.tsx","../../../src/node_editor/link_canvas.tsx","../../../../src/node_editor/connector_content/default.tsx","../../../../src/node_editor/connector_content/error.tsx","../../../../src/node_editor/connector_content/check_box.tsx","../../../../src/node_editor/connector_content/number.tsx","../../../../src/node_editor/connector_content/select.tsx","../../../../src/node_editor/connector_content/button.tsx","../../../../src/node_editor/connector_content/text_area.tsx","../../../../src/node_editor/connector_content/string.tsx","../../../../src/node_editor/utils/index.ts","../../../../src/node_editor/utils/drag.ts","../../../../src/node_editor/node/pin.tsx","../../../../src/node_editor/node/connector.tsx","../../../../src/node_editor/connector_content/index.tsx","../../../../src/node_editor/node/header.tsx","../../../../src/node_editor/node/footer.tsx","../../../../src/node_editor/node/node.tsx","../../../src/node_editor/node_canvas.tsx","../../../src/node_editor/node_editor.tsx","nodes/consts.ts","../../../src/contextual_menu/menu_item_list.tsx","../../../src/contextual_menu/basic_contextual_menu.tsx","../../../src/contextual_menu/add_node_contextual_menu.tsx","../../../src/contextual_menu/selection_management_contextual_menu.tsx","nodes/node.ts","nodes/canvas.ts","nodes/rectangle.ts","nodes/rotate.ts","nodes/number.ts","nodes/color.ts","nodes/timer.ts","nodes/translate.ts","nodes/if_else.ts","nodes/string.ts","nodes/split.ts","nodes/operation.ts","nodes/log.ts","nodes/arc.ts","nodes/check.ts","nodes/boolean.ts","nodes/function.ts","nodes/threejs.tsx","nodes/threejs_box.tsx","nodes/range.ts","nodes/map.ts","nodes/index.ts","connector_content/canvas.tsx","connector_content/threejs.tsx","connector_content/index.tsx","oura_canvas.tsx","App.tsx","index.tsx"],"names":["PinSide","PinLayout","arePositionEquals","rPos","lPos","x","y","generateUuid","replace","c","r","Math","random","toString","props","_super","_this","state","panDisabled","onMouseDown","bind","onMouseUp","onZoomChange","onPanning","onPanningStart","onPanningStop","__extends","PanZoom","e","shiftKey","target","mouseDownOnLinkCanvas","id","mouseDownOnPanCanvas","className","includes","setState","button","ref","onPanZoomInfo","zoom","scale","topLeftCorner","positionX","positionY","panStartPosition","onSelectItem","panEndPosition","panZoomInfo","children","React","style","position","width","height","TransformWrapper","limitToBounds","minScale","panning","excluded","disabled","velocityDisabled","doubleClick","wheel","step","onWheel","initialScale","initialPositionX","initialPositionY","TransformComponent","theme","node","selected","boxShadow","borderRadius","header","backgroundColor","color","cursor","overflow","paddingLeft","body","footer","basePin","customPins","string","transform","link","stroke","strokeWidth","fill","unselected","connectors","leftText","textOverflow","border","outline","number","boxSizing","textAlign","paddingRight","select","buildBackgroundStyle","grid","String","backgroundPosition","concat","backgroundImage","ThemeContext","createContext","darkTheme","BackGround","useContext","top","left","BezierLink","nextProps","_","event","linkId","onSelectLink","context","linkPosition","isLinkSelected","sourceX","inputPinPosition","sourceY","targetX","outputPinPosition","targetY","center","source","offsetX","abs","xCenter","offsetY","getCenter","path","__assign","_a","_b","_c","_d","_e","_f","d","onClick","Component","contextType","LineLink","x1","y1","x2","y2","createLink","linkType","LinkCanvas","linksPositions","selectedItems","draggedLink","Object","keys","links","filter","key","map","some","type","DefaultConnectorContent","connector","pinLayout","RIGHT_PIN","name","ErrorConnectorComponent","message","CheckBox","onChange","nodeId","cId","onConnectorUpdate","produce","draft","data","value","ErrorConnectorContent","tabIndex","checked","NumberConnectorContent","isEqual","isNaN","Number","currentTarget","display","placeholder","SelectConnectorContent","setSelectedValue","useCallback","selected_index","newConnector","selectedIndex","defaultValue","values","ButtonConnectorContent","label","createRef","TextAreaConnectorContent","textAreaRef","current","height_1","whiteSpace","resize","StringConnectorContent","DragWrapper","onMouseMove","initialPos","getZoom","window","addEventListener","finalPos","lastZoom","tmpPos","pageX","pageY","onMouseMoveCb","onMouseUpCb","offsetPos","targetClassName","removeEventListener","Pin","contentType","leftPinPosition","pinPxRadius","pinColor","customStyle","undefined","Connector","onPinPositionUpdate","leftPinPos","getConnectorPinPosition","LEFT","rightPinPos","RIGHT","pinSide","onUpdatePreviewLink","onCreateLink","pinPosition","dragWrapper","_iPos","_fPos","mouseUpEvent","tag","match","inputNodeId","inputPinId","inputPinSide","outputNodeId","outputPinId","outputPinSide","connectorRef","NO_PINS","LEFT_PIN","offsetTop","offsetHeight","createCustomConnectorComponent","connectorContent","createConnectorComponent","paddingTop","BOTH_PINS","leftPinColor","rightPinColor","Header","Footer","Node","isNodeSelected","onNodeMoveStart","onNodeMove","onNodeMoveEnd","stopEvent","classNameStr","_finalPos","iPos","fPos","mouseUpEv","onNodePinPositionsUpdate","pinPositions","connectableConnectorsLength","length","nodeCoreSelectionStyle","NodeEditor","selection","alreadySelected","forEach","item","lastSettedSelection","offsetWidth","nodes","newX","newY","newWidth","wasNodeMoved","enableMapSet","NodeName","filterRenderedNodes","filterRenderedLinks","updateLinkPositions","onSelectedItems","newSelection","indexToDelete_1","index","splice","push","previewLink","nodesPinPositions","redrawPinPosition","newLinksPositions","iNPins","oNPins","mainDivRef","minX","minY","maxX","margin","maxY","filteredNodes","valueInRange","min","max","xOverlap","yOverlap","renderedNodesKeys","filteredlinks","renderedNodes","renderedLinks","Provider","NodeCanvas","MenuItem","onMouseEnter","onMouseLeave","MenuItemList","items","BasicContextualMenu","useState","searchText","setSearchText","filteredItems","toLowerCase","lcSearchText","menuTitle","NodePrevisualizer","previewDivRef","useRef","nodeElem","divDim","getBoundingClientRect","displayedNode","gridArea","AddNodeContextualMenu","onNodeSelection","onMouseHover","previsualizedNodeId","setPrevisualizedNodeId","nodesSchema","onMouseLeaves","SelectionManagementContextualMenu","onDeleteSelection","delete_selection","getOutputLinks","linkOutputs","linkKey","getInputsLinks","propagationDictToOrderedList","propagationDict","propagationList","sort","a","b","createPropagationTree","depth","outputLinks","propagateFromList","propagationValues","setNodes","propagingNodeId","inputLinks","inputValues","pinId","isMultiInputAllowed","outputValues","computeSpecific","ouputsLinks","propagateAll","propagateNode","fOutId","k","FunctionOutputNode","fOutIdLinks","fInId","fIn","FunctionInputNode","funName","functionCallersNodeIds","FunctionCallNode","Map","backPropagateFunctionNodes","alreadyComputedNodes","fIns","outputsLinks","outputsNodes","IfElse","ifLinkId","res","depNodeId","propateFunction","fLinkId","find","fLinkResId","console","log","immerable","this","jsonObj","CanvasNode","Canvas","canvas_width","canvas_height","canvas_color","inputs","draw","ctx","clearRect","canvas","Array","isArray","ee","canvas_draw","initFromJson","RectangleNode","Rectangle","lineWidth","fillStyle","fillRect","strokeStyle","oldLineWidth","strokeRect","RotateNode","Rotate","rotation","PI","rotate","NumberNode","json","ColorNode","Color","red","green","blue","alpha","colorCode","TimerNode","Timer","TranslateNode","Translate","translate","IfElseNode","cond","if_value","ret","StringNode","SplitNode","Split","str","split","OperationNode","Operation","pow","log10","sin","cos","tan","LogNode","Log","JSON","stringify","ArcNode","Arc","radius","start_angle","end_angle","counterclockwise","beginPath","arc","closePath","CheckNode","Check","BooleanNode","Boolean","functionName","expectedConnectors","finNodeId","nodeKey","i","add","remove","ThreeJS","obj","ThreeJSBox","cube","geometry","THREE","material","rotation_x","rotation_y","rotation_z","setStyle","set","RangeNode","Range","count","array","cur","MapNode","createNodeFromJson","createFromJson","Error","canvasRef","useEffect","getContext","zIndex","imageRendering","ThreeJs","divRef","div","scene","camera","innerWidth","innerHeight","renderer","light","setSize","appendChild","domElement","z","animate","requestAnimationFrame","render","cancelAnimationFrame","removeChild","dispose","createCustomConnectorsContents","OuraCanvasApp","nodePickerPos","setNodePickerPos","nodePickerOnMouseHover","setNodePickerOnMouseHover","setPanZoomInfo","setSelectedItems","setLinks","runFirstPropagation","setRunFirstPropagation","locallyStoredNodes","localStorage","getItem","locallyStoredLinks","initNodes","parse","initLinks","setItem","nodesSchemas","setSelectedItemsAndMoveSelectedNodeFront","selectedNodeId","newNodes","interval","setInterval","updated","clearInterval","newLinks","deleteNodeIds","deletedLinksIds","nodeIdToRecompute","newNodeId","setNewNodeId","newNode","onContextMenu","preventDefault","onSaveButton","element","document","createElement","setAttribute","encodeURIComponent","click","onLoadButton","evt","files","size","reader","FileReader","onload","file","result","atob","substring","readAsDataURL","onResetButton","nodePicker","buttonStyle","font","textDecoration","padding","borderTop","borderRight","borderBottom","borderLeft","bottom","htmlFor","visibility","right","App","container","getElementById","createRoot","StrictMode"],"mappings":"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","file":"static/js/main.3e9e6f05.chunk.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"export enum NodeName {\n    Canvas = \"canvas\",\n    Color = \"color\",\n    Number = \"number\",\n    Rectangle = \"rectangle\",\n    Rotate = \"rotate\",\n    Timer = \"timer\",\n    Translate = \"translate\",\n    IfElse = \"if-else\",\n    String = \"string\",\n    Split = \"split\",\n    Operation = \"operation\",\n    Log = \"log\",\n    Arc = \"arc\",\n    Check = \"check\",\n    Boolean = \"boolean\",\n    FunctionInputNode = \"function-inputs\",\n    FunctionOutputNode = \"function-outputs\",\n    FunctionCallNode = \"function-call\",\n    ThreeJS = \"threejs\",\n    ThreeJSBox = \"threejs-box\",\n    Range = \"range\",\n    Map = \"map\"\n}",null,null,null,null,"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { immerable } from \"immer\";\nimport {\n    ConnectorCollection,\n    LinkCollection,\n    NodeCollection,\n    NodeModel,\n    XYPosition\n} from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nfunction getOutputLinks(nodeId: string, links: LinkCollection): LinkCollection {\n    const linkOutputs: LinkCollection = {};\n    Object.keys(links).forEach((linkKey) => {\n        const link = links[linkKey];\n        if(link.outputNodeId === nodeId) {\n            linkOutputs[linkKey] = links[linkKey];\n        }\n    });\n    return linkOutputs;\n}\n\nfunction getInputsLinks(nodeId: string, links: LinkCollection): LinkCollection {\n    const linkOutputs: LinkCollection = {};\n    Object.keys(links).forEach((linkKey) => {\n        const link = links[linkKey];\n        if(link.inputNodeId === nodeId) {\n            linkOutputs[linkKey] = links[linkKey];\n        }\n    });\n    return linkOutputs;\n}\n\nfunction propagationDictToOrderedList(propagationDict: { [id: string]: number }) : string[] {\n    const propagationList: [string, number][] = [];\n    Object.keys(propagationDict).forEach(nodeId => propagationList.push([nodeId, propagationDict[nodeId]]));\n    propagationList.sort((a, b) => a[1] - b[1]);\n    return propagationList.map(([nodeId, _]) => nodeId);\n}\n\nfunction createPropagationTree(nodeId: string, links: LinkCollection, depth: number, propagationDict: { [id: string]: number }): void {\n    propagationDict[nodeId] = nodeId in propagationDict ? Math.max(depth, propagationDict[nodeId]) : depth;\n    const outputLinks = getOutputLinks(nodeId, links);\n    Object.keys(outputLinks).forEach(linkKey => {\n        createPropagationTree(links[linkKey].inputNodeId, links, depth + 1, propagationDict);\n    });\n}\n\nfunction propagateFromList(propagationList: string[], propagationValues: { [id: string]: any }, nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): void {\n    propagationList.forEach(propagingNodeId => {\n        const node = nodes[propagingNodeId] as Node;\n        // Preparing inputs of current propagation\n        const inputLinks = getInputsLinks(propagingNodeId, links);\n        const inputValues: { [id: string]: any } = {};\n        Object.keys(inputLinks).forEach((linkId) => {\n            if(!(linkId in propagationValues)) {\n                return;\n            }\n            const pinId = links[linkId].inputPinId;\n            if(node.connectors[pinId].isMultiInputAllowed) {\n                if(!(pinId in inputValues)){\n                    inputValues[pinId] = [];\n                }\n                inputValues[pinId].push(propagationValues[linkId]);\n            } else {\n                inputValues[pinId] = propagationValues[linkId];\n            }\n        });\n        // Executing\n        const outputValues = node.computeSpecific(inputValues, propagingNodeId, setNodes, nodes, links);\n        // Adding values to propagationValues\n        const ouputsLinks = getOutputLinks(propagingNodeId, links);\n        Object.keys(ouputsLinks).forEach((linkId) => {\n            propagationValues[linkId] = outputValues[links[linkId].outputPinId];\n        });\n    });\n}\n\nexport function propagateAll(propagationValues: { [id: string]: any }, nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): void {\n    const propagationDict: { [id: string]: number } = {};\n    Object.keys(nodes).forEach(nodeId => {\n        createPropagationTree(nodeId, links, 0, propagationDict);\n    });\n    const propagationList = propagationDictToOrderedList(propagationDict);\n    propagateFromList(propagationList, propagationValues, nodes, links, setNodes);\n}\n\nexport function propagateNode(nodeId: string, propagationValues: { [id: string]: any }, nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): void {\n    const propagationDict: { [id: string]: number } = {};\n    createPropagationTree(nodeId, links, 0, propagationDict);\n    const propagationList = propagationDictToOrderedList(propagationDict);\n\n    let fOutId = \"\";\n    propagationList.forEach(k => {\n        if(nodes[k].name === NodeName.FunctionOutputNode) {\n            fOutId = k;\n        }\n    });\n    if(fOutId !== \"\") {\n        const fOutIdLinks = getInputsLinks(fOutId, links);\n        let fInId = \"\";\n        Object.keys(fOutIdLinks).forEach(k => {\n            if(links[k].inputPinId === \"0\") {\n                fInId = links[k].outputNodeId;\n            }\n        });\n        const fIn = nodes[fInId];\n        if(fIn.name === NodeName.FunctionInputNode) {\n            const funName = fIn.connectors[\"0\"].data.value;\n            const functionCallersNodeIds: string[] = [];\n            Object.keys(nodes).forEach(k => {\n                if(nodes[k].name === NodeName.FunctionCallNode && nodes[k].connectors[\"0\"].data.value === funName) {\n                    functionCallersNodeIds.push(k);\n                }\n                if(nodes[k].name === NodeName.Map && nodes[k].connectors[\"2\"].data.value === funName) {\n                    functionCallersNodeIds.push(k);\n                }\n            });\n            functionCallersNodeIds.forEach(k => propagateNode(k, propagationValues, nodes, links, setNodes));\n        }\n        return;\n    }\n    propagateFromList(propagationList, propagationValues, nodes, links, setNodes);\n}\n\nexport function backPropagateFunctionNodes(alreadyComputedNodes: string[], nodeId: string,  propagationValues: { [id: string]: any }, nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>, fIns: { [id: string]: any }): any {\n    if(alreadyComputedNodes.includes(nodeId)) {\n        return;\n    }\n\n    const node = nodes[nodeId] as Node;\n    const outputsLinks = getInputsLinks(nodeId, links);\n    const outputsNodes = Object.keys(outputsLinks).map(k => {\n        return links[k].outputNodeId;\n    });\n\n    // Computing output dep\n    if(node.name === NodeName.IfElse) {\n        // First compute condition\n        let ifLinkId = \"\";\n        Object.keys(outputsLinks).forEach(k => {\n            if (links[k].inputPinId === \"1\") {\n                ifLinkId = k;\n                backPropagateFunctionNodes(alreadyComputedNodes, links[k].outputNodeId, propagationValues, nodes, links, setNodes, fIns);\n            }\n        });\n        const res = propagationValues[ifLinkId] as boolean;\n        Object.keys(outputsLinks).forEach(k => {\n            if ((links[k].inputPinId === \"2\" && res) || (links[k].inputPinId === \"3\" && !res)) {\n                backPropagateFunctionNodes(alreadyComputedNodes, links[k].outputNodeId, propagationValues, nodes, links, setNodes, fIns);\n            }\n        });\n    } else if(node.name === NodeName.FunctionOutputNode) {\n        Object.keys(outputsLinks).forEach(k => {\n            if (links[k].inputPinId === \"0\") {\n                backPropagateFunctionNodes(alreadyComputedNodes, links[k].outputNodeId, propagationValues, nodes, links, setNodes, fIns);\n            }\n        });\n        outputsNodes.forEach(depNodeId => backPropagateFunctionNodes(alreadyComputedNodes, depNodeId, propagationValues, nodes, links, setNodes, fIns));\n    } else {\n        outputsNodes.forEach(depNodeId => backPropagateFunctionNodes(alreadyComputedNodes, depNodeId, propagationValues, nodes, links, setNodes, fIns));\n    }\n    \n    // Preparing inputs of current propagation\n    const inputLinks = getInputsLinks(nodeId, links);\n    const inputValues: { [id: string]: any } = {};\n    Object.keys(inputLinks).forEach((linkId) => {\n        if(!(linkId in propagationValues)) {\n            return;\n        }\n        const pinId = links[linkId].inputPinId;\n        if(node.connectors[pinId].isMultiInputAllowed) {\n            if(!(pinId in inputValues)){\n                inputValues[pinId] = [];\n            }\n            inputValues[pinId].push(propagationValues[linkId]);\n        } else {\n            inputValues[pinId] = propagationValues[linkId];\n        }\n    });\n    // Computing current node\n    const outputValues = node.computeSpecific(node.name === NodeName.FunctionInputNode ? fIns :  inputValues, nodeId, setNodes, nodes, links);\n    // Adding values to propagationValues\n    const ouputsLinks = getOutputLinks(nodeId, links);\n    Object.keys(ouputsLinks).forEach((linkId) => {\n        propagationValues[linkId] = outputValues[links[linkId].outputPinId];\n    });\n    alreadyComputedNodes.push(nodeId);\n}\n\nexport function propateFunction(nodeId: string, nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>, fIns: { [id: string]: any }): any {\n    const propagationValues: { [id: string]: any } = {};\n    // 1. search output node\n    const fLinkId = Object.keys(links).find((key) => {\n        const link = links[key];\n        return link.outputNodeId === nodeId && link.outputPinId === \"0\";\n    });\n    if(!fLinkId) {\n        console.log(\"no node id\");\n        return;\n    }\n    \n    const fOutId = links[fLinkId].inputNodeId;\n    backPropagateFunctionNodes([], fOutId, propagationValues, nodes, links, setNodes, fIns);\n    \n    // Return result\n    const fLinkResId = Object.keys(links).find((key) => {\n        const link = links[key];\n        return link.inputNodeId === fOutId && link.inputPinId === \"1\";\n    });\n    if(fLinkResId && fLinkResId in propagationValues) {\n        return propagationValues[fLinkResId]\n    }\n    return undefined;\n}\n\nexport default abstract class Node implements NodeModel {\n    [immerable] = true;\n    public name: string;\n    public position: XYPosition;\n    public width: number;\n    public connectors: ConnectorCollection;\n\n    constructor(name: string, width: number, position: XYPosition, connectors: ConnectorCollection) {\n        this.name = name;\n        this.width = width;\n        this.position = position;\n        this.connectors = connectors;\n    }\n\n    static initFromJson(jsonObj: any, node: Node) {\n        node.name = jsonObj.name;\n        node.width = jsonObj.width;\n        node.position = jsonObj.position;\n        node.connectors = jsonObj.connectors;\n    }\n\n    abstract computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection): { [id: string]: any };\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class CanvasNode extends Node {\n    constructor() {\n        super(NodeName.Canvas, 430, {x:0, y:0}, {\n            0: { \n                name: \"draw\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"canvas\", \n                data: { canvas_width: 400, canvas_height: 400, canvas_color: \"white\" },\n                isMultiInputAllowed: true\n            },\n            1: { \n                name: \"width\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 400 } \n            },\n            2: { \n                name: \"height\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 400 } \n            },\n            3: {\n                name: \"color\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: { value: \"white\" },\n                leftPinColor: \"orange\"\n            },\n        });\n    }\n\n    static createFromJson(jsonObj: any) : CanvasNode {\n        let node = new CanvasNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const width = Number(\"1\" in inputs ? inputs[1] : this.connectors[1].data.value);\n        const height = Number(\"2\" in inputs ? inputs[2] : this.connectors[2].data.value);\n        const color = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n\n        const draw = (ctx: CanvasRenderingContext2D) => {\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (inputs[0]) {\n                inputs[0].forEach((e: any) => {\n                    if(Array.isArray(e)) {\n                        e.forEach(ee => ee(ctx));\n                    } else {\n                        e(ctx);\n                    }\n                    \n                });  \n            }\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.canvas_width = Number(width);\n                draft[nodeId].connectors[0].data.canvas_height = Number(height);\n                draft[nodeId].connectors[0].data.canvas_color = color;\n                draft[nodeId].connectors[0].data.canvas_draw = draw;\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = width;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = height;\n            })\n        );\n\n        return {};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class RectangleNode extends Node {\n    constructor() {\n        super(NodeName.Rectangle, 200, {x:0, y:0}, {\n            0: { name: \"draw\", pinLayout: PinLayout.RIGHT_PIN, contentType: \"none\", data: {} },\n            1: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            2: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"width\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 100, disabled: false }\n            },\n            4: {\n                name: \"height\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 100, disabled: false }\n            },\n            5: {\n                name: \"color\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: { value: \"black\" },\n                leftPinColor: \"orange\"\n            },\n            6: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"fill\", \"stroke\", \"clear\"],\n                    selected_index: 0\n                }\n            },\n            7: {\n                name: \"line width\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 1, disabled: false }\n            },\n        });\n    }\n\n    static createFromJson(jsonObj: any) : RectangleNode {\n        let node = new RectangleNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const y = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        const width = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n        const height = \"4\" in inputs ? inputs[4] : this.connectors[4].data.value;\n        const color = \"5\" in inputs ? inputs[5] : this.connectors[5].data.value;\n        const lineWidth = \"7\" in inputs ? inputs[7] : this.connectors[7].data.value;\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = x;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = y;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = width;\n                draft[nodeId].connectors[4].data.disabled = \"4\" in inputs;\n                draft[nodeId].connectors[4].data.value = height;\n                draft[nodeId].connectors[7].data.disabled = \"7\" in inputs;\n                draft[nodeId].connectors[7].data.value = lineWidth;\n            })\n        );\n\n        const type = this.connectors[6].data.selected_index;\n        const draw = (ctx: CanvasRenderingContext2D): void => {\n            if(type === 0) {\n                ctx.fillStyle = color;\n                ctx.fillRect(x, y, width, height);\n                ctx.fillStyle = \"black\";\n            }\n            else if(type === 1) {\n                ctx.strokeStyle = color;\n                const oldLineWidth = ctx.lineWidth;\n                ctx.lineWidth = lineWidth;\n                ctx.strokeRect(x, y, width, height);\n                ctx.lineWidth = oldLineWidth;\n                ctx.strokeStyle = \"black\";\n            }\n            else if(type === 2) {\n                ctx.clearRect(x, y, width, height);\n            } \n        };\n\n        return { \"0\": draw };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class RotateNode extends Node {\n    constructor() {\n        super(NodeName.Rotate, 150, {x:0, y:0}, {\n            0: { name: \"draw\", pinLayout: PinLayout.BOTH_PINS, contentType: \"none\", data: {} },\n            1: {\n                name: \"angle\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0 }\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : RotateNode {\n        let node = new RotateNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        let rotation = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        rotation = (rotation * Math.PI) / 180;\n        \n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = rotation;\n            })\n        );\n        \n        const drawWithRotation = (ctx: CanvasRenderingContext2D): void => {\n            ctx.rotate(rotation);\n            if (inputs[0]) {\n                inputs[0].forEach((draw: (arg0: CanvasRenderingContext2D) => void) => {\n                    draw(ctx);\n                });\n            }\n            ctx.rotate(-rotation);\n        };\n        return { \"0\": drawWithRotation };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class NumberNode extends Node {\n    constructor() {\n        super(NodeName.Number, 170, {x:0, y:0}, {\n            0: {\n                name: \"number\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"number\",\n                data: { value: 0 }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : NumberNode {\n        let node = new NumberNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(): { [id: string]: any } {\n        return { \"0\": Number(this.connectors[0].data.value) };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class ColorNode extends Node {\n    constructor() {\n        super(NodeName.Color, 150, {x:0, y:0}, {\n            0: { \n                name: \"color\", \n                pinLayout: PinLayout.RIGHT_PIN, \n                contentType: \"canvas\", \n                data: { canvas_width: 150 - 30, canvas_height: 40, canvas_color: \"black\" },\n                rightPinColor: \"orange\"\n            },\n            1: { \n                name: \"red\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 0 } \n            },\n            2: { \n                name: \"green\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 0 } \n            },\n            3: { \n                name: \"blue\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 0 } \n            },\n            4: { \n                name: \"alpha\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 1 } \n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : ColorNode {\n        let node = new ColorNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        let red = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        let green = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        let blue = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n        let alpha = \"4\" in inputs ? inputs[4] : this.connectors[4].data.value;\n        \n        red = red > 255 ? 255 : red < 0 ? 0 : red;\n        green = green > 255 ? 255 : green < 0 ? 0 : green;\n        blue = blue > 255 ? 255 : blue < 0 ? 0 : blue;\n        alpha = alpha > 1 ? 1 : alpha < 0 ? 0 : alpha;\n        const colorCode = `rgba(${red}, ${green}, ${blue}, ${alpha})`;\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.canvas_width = this.width - 30;\n                draft[nodeId].connectors[0].data.canvas_color = colorCode;\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = red;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = green;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = blue;\n                draft[nodeId].connectors[4].data.disabled = \"4\" in inputs;\n                draft[nodeId].connectors[4].data.value = alpha;\n            })\n        );\n\n        return { \"0\": colorCode };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class TimerNode extends Node {\n    constructor() {\n        super(NodeName.Timer, 150, {x:0, y:0}, {\n            0: { name: \"count\", pinLayout: PinLayout.RIGHT_PIN, contentType: \"number\", data: { value: \"0\" } },\n            1: { name: \"is_running\", pinLayout: PinLayout.NO_PINS, contentType: \"check_box\", data: { value: false } }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : TimerNode {\n        let node = new TimerNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }): { [id: string]: any } {\n        return { \"0\": this.connectors[0].data.value };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class TranslateNode extends Node {\n    constructor() {\n        super(NodeName.Translate, 100, {x:0, y:0}, {\n            0: { name: \"draw\", pinLayout: PinLayout.BOTH_PINS, contentType: \"none\", data: {} },\n            1: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0 }\n            },\n            2: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0 }\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : TranslateNode {\n        let node = new TranslateNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        let x = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        let y = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        \n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = x;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = y;\n            })\n        );\n\n        const drawWithTranslate = (ctx: CanvasRenderingContext2D): void => {\n            ctx.translate(x, y);\n            if (inputs[0]) {\n                inputs[0].forEach((draw: (arg0: CanvasRenderingContext2D) => void) => {\n                    draw(ctx);\n                });\n            }\n            ctx.translate(-x, -y);\n        };\n        return { \"0\": drawWithTranslate };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class IfElseNode extends Node {\n    constructor() {\n        super(NodeName.IfElse, 100, {x:0, y:0}, {\n            0: {\n                name: \"out_value\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: {}\n            },\n            1: {\n                name: \"test\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"check_box\",\n                data: { value: false }\n            },\n            2: {\n                name: \"if_value\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: {}\n            },\n            3: {\n                name: \"else_value\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: {}\n            }\n        });\n    }\n\n    static createFromJson(json: string) : IfElseNode {\n        let node = new IfElseNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any },  nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const cond = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value; \n        const if_value = \"2\" in inputs ? inputs[2] : null;\n        const else_value = \"3\" in inputs ? inputs[3] : null;\n        let ret = { \"0\": else_value };\n        if(cond) {\n            ret = { \"0\": if_value };\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = cond;\n            })\n        );\n\n        return ret;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class StringNode extends Node {\n    constructor() {\n        super(NodeName.String, 100, {x:0, y:0}, {\n            0: {\n                name: \"string\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"string\",\n                data: { value: \"\" }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : StringNode {\n        let node = new StringNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(): { [id: string]: any } {\n        return { \"0\": this.connectors[0].data.value };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class SplitNode extends Node {\n    constructor() {\n        super(NodeName.Split, 100, {x:0, y:0}, {\n            0: {\n                name: \"out\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: {}\n            },\n            1: {\n                name: \"input\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"text_area\",\n                data: { value: \"\" }\n            },\n            2: {\n                name: \"separator\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"string\",\n                data: { value: \"\", height: \"20px\" }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : SplitNode {\n        let node = new SplitNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }): { [id: string]: any } {\n        const str = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const split = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        return {\"0\": split[0] ? str.split(split[0]) : str};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class OperationNode extends Node {\n    constructor() {\n        super(NodeName.Operation, 160, {x:0, y:0}, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: true }\n            },\n            1: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"add\", \"substract\", \"multiply\", \"divide\", \"modulo\", \"minimum\", \"maximum\", \"exp\", \"log\", \"log10\", \"negate\", \"sin\", \"cos\", \"tan\"],\n                    selected_index: 0\n                }\n            },\n            2: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : OperationNode {\n        let node = new OperationNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = Number(\"2\" in inputs ? inputs[2] : this.connectors[2].data.value);\n        const y = Number(\"3\" in inputs ? inputs[3] : this.connectors[3].data.value);\n\n        let value = 0;\n        switch(this.connectors[1].data.selected_index) {\n            case 0:\n                value = x + y;\n                break;\n            case 1:\n                value = x - y;\n                break;\n            case 2:\n                value = x * y;\n                break;\n            case 3:\n                value = isNaN(x / y) ? 0 : x / y;\n                break;\n            case 4:\n                value = isNaN(x % y) ? 0 : x % y;\n                break;\n            case 5:\n                value = x > y ? y : x;\n                break;\n            case 6:\n                value = x > y ? x : y;\n                break;\n            case 7:\n                value = Math.pow(x, y);\n                break;\n            case 8:\n                value = Math.log(x);\n                break;\n            case 9:\n                value = Math.log10(x);\n                break;\n            case 10:\n                value = -x;\n                break;\n            case 11:\n                value = Math.sin(x);\n                break;\n            case 12:\n                value = Math.cos(x);\n                break;\n            case 13:\n                value = Math.tan(x);\n                break;\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.value = value;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = x;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = y;\n            })\n        );\n\n        return { \"0\": value };\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class LogNode extends Node {\n    public inputs: any;\n\n    constructor() {\n        super(NodeName.Log, 100, { x: 0, y: 0 }, {\n            0: {\n                name: \"log\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"text_area\",\n                data: { value: \"\", disabled: true },\n                leftPinColor: \"red\"\n            }\n        });\n    }\n\n    static createFromJson(json: string): LogNode {\n        let node = new LogNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.value = \"0\" in inputs ? JSON.stringify(inputs[0]) : \"\";\n            })\n        );\n        return {};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class ArcNode extends Node {\n    constructor() {\n        super(NodeName.Arc, 200, {x:0, y:0}, {\n            0: { name: \"draw\", pinLayout: PinLayout.RIGHT_PIN, contentType: \"none\", data: {} },\n            1: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            2: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"radius\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 100, disabled: false }\n            },\n            4: {\n                name: \"start angle\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            5: {\n                name: \"end angle\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 2 * Math.PI, disabled: false }\n            },\n            6: {\n                name: \"color\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: { value: \"black\" },\n                leftPinColor: \"orange\"\n            },\n            7: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"fill\", \"stroke\"],\n                    selected_index: 0\n                }\n            },\n            8: {\n                name: \"line width\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 1, disabled: false }\n            },\n            9: {\n                name: \"counterclockwise\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"check_box\",\n                data: { value: false }\n            },\n        });\n    }\n\n    static createFromJson(jsonObj: any) : ArcNode {\n        let node = new ArcNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const y = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        const radius = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n        const start_angle = \"4\" in inputs ? inputs[4] : this.connectors[4].data.value;\n        const end_angle = \"5\" in inputs ? inputs[5] : this.connectors[5].data.value;\n        const color = \"6\" in inputs ? inputs[6] : this.connectors[6].data.value;\n        const lineWidth = \"8\" in inputs ? inputs[8] : this.connectors[8].data.value;\n        const counterclockwise = \"9\" in inputs ? inputs[9] : this.connectors[9].data.value;\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = x;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = y;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = radius;\n                draft[nodeId].connectors[4].data.disabled = \"4\" in inputs;\n                draft[nodeId].connectors[4].data.value = start_angle;\n                draft[nodeId].connectors[5].data.disabled = \"5\" in inputs;\n                draft[nodeId].connectors[5].data.value = end_angle;\n                draft[nodeId].connectors[8].data.disabled = \"8\" in inputs;\n                draft[nodeId].connectors[8].data.value = lineWidth;\n            })\n        );\n\n        const type = this.connectors[7].data.selected_index;\n        const draw = (ctx: CanvasRenderingContext2D): void => {\n            if(type === 0) {\n                ctx.fillStyle = color;\n                ctx.beginPath();\n                ctx.arc(x, y, radius, start_angle, end_angle, counterclockwise);\n                ctx.closePath();\n                ctx.fill();\n                ctx.fillStyle = \"black\";\n            }\n            else if(type === 1) {\n                ctx.strokeStyle = color;\n                const oldLineWidth = ctx.lineWidth;\n                ctx.lineWidth = lineWidth;\n                ctx.beginPath();\n                ctx.arc(x, y, radius, start_angle, end_angle, counterclockwise);\n                ctx.closePath();\n                ctx.stroke();\n                ctx.lineWidth = oldLineWidth;\n                ctx.strokeStyle = \"black\";\n            }\n        };\n\n        return { \"0\": draw };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class CheckNode extends Node {\n    constructor() {\n        super(NodeName.Check, 160, {x:0, y:0}, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: { value: false, disabled: true }\n            },\n            1: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"===\", \"!==\", \"<\", \"<=\", \">\", \">=\"],\n                    selected_index: 0\n                }\n            },\n            2: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : CheckNode {\n        let node = new CheckNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = Number(\"2\" in inputs ? inputs[2] : this.connectors[2].data.value);\n        const y = Number(\"3\" in inputs ? inputs[3] : this.connectors[3].data.value);\n\n        let value = false;\n        switch(this.connectors[1].data.selected_index) {\n            case 0:\n                value = x === y;\n                break;\n            case 1:\n                value = x !== y;\n                break;\n            case 2:\n                value = x < y;\n                break;\n            case 3:\n                value = x <= y;\n                break;\n            case 4:\n                value = x > y;\n                break;\n            case 5:\n                value = x >= y;\n                break;\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.value = value;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = x;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = y;\n            })\n        );\n\n        return { \"0\": value };\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class BooleanNode extends Node {\n    constructor() {\n        super(NodeName.Boolean, 160, {x:0, y:0}, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: { value: false, disabled: true }\n            },\n            1: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"===\", \"!==\", \"&&\", '||', \"!\"],\n                    selected_index: 0\n                }\n            },\n            2: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"check_box\",\n                data: { value: false }\n            },\n            3: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"check_box\",\n                data: { value: false }\n            },\n        });\n    }\n\n    static createFromJson(jsonObj: any) : BooleanNode {\n        let node = new BooleanNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        const y = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n\n        let value = false;\n        switch(this.connectors[1].data.selected_index) {\n            case 0:\n                value = x === y;\n                break;\n            case 1:\n                value = x !== y;\n                break;\n            case 2:\n                value = x && y;\n                break;\n            case 3:\n                value = x || y;\n                break;\n            case 4:\n                value = !x;\n                break;\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.value = value;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = x;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = y;\n            })\n        );\n\n        return { \"0\": value };\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node, { propateFunction } from \"./node\";\nimport { LinkCollection, NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\nimport { Dispatch, SetStateAction } from \"react\";\n\nexport class FunctionCallNode extends Node {\n    \n    constructor() {\n        super(NodeName.FunctionCallNode, 150, {x:0, y:0}, {\n            0: { \n                name: \"function_name\", \n                pinLayout: PinLayout.NO_PINS, \n                contentType: \"string\", \n                data: { value: \"\"},\n            },\n            1: { \n                name: \"output\", \n                pinLayout: PinLayout.RIGHT_PIN, \n                contentType: \"none\", \n                data: {},\n            }\n        });\n    }\n    \n    static createFromJson(jsonObj: any) : FunctionCallNode {\n        let node = new FunctionCallNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any; }, nodeId: string, setNodes: Dispatch<SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection): { [id: string]: any; } {\n        // 1. Fetch function node\n        const functionName = this.connectors[0].data.value;\n        const expectedConnectors: string[] = [];\n        let finNodeId: string = \"\";\n        Object.keys(nodes).forEach(nodeKey => {\n            const node = nodes[nodeKey];\n            if(node.name === NodeName.FunctionInputNode && node.connectors[0].data.value === functionName) {\n                finNodeId = nodeKey;\n                Object.keys(node.connectors).forEach(key => {\n                    if(Number(key) > 2 && node) {\n                        expectedConnectors.push(node.connectors[key].name);\n                    }\n                });\n            }\n        });\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                if(nodeId) {\n                    Object.keys(draft[nodeId].connectors).forEach((key) => {\n                        if(Number(key) > 1) {\n                            delete draft[nodeId].connectors[key];\n                        }\n                    });\n                    expectedConnectors.forEach((value, i) => {\n                        draft[nodeId].connectors[i+2] = {\n                            name: value,\n                            pinLayout: PinLayout.LEFT_PIN,\n                            contentType: \"none\",\n                            data: {}\n                        }\n                    });\n                }   \n            })\n        );\n\n        let fIns: any = {};\n        expectedConnectors.forEach((_, i) => {\n            if((i+2) in inputs) {\n                fIns[`${i+3}`] = inputs[`${i+2}`];\n            }\n        });\n\n        if(finNodeId.length > 0) {\n            const res = propateFunction(finNodeId, nodes, links, setNodes, fIns);\n            return {\"1\": res};\n        }\n        \n        return {};\n    }\n}\n\nexport class FunctionInputNode extends Node {\n    public nodeId ?: string;\n    public setNodes ?: React.Dispatch<React.SetStateAction<NodeCollection>>;\n    constructor() {\n        super(NodeName.FunctionInputNode, 150, {x:0, y:0}, {\n            0: { \n                name: \"name\", \n                pinLayout: PinLayout.RIGHT_PIN, \n                contentType: \"string\", \n                data: { value: \"\" },\n            },\n            1: {\n                name: \"add\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"button\",\n                data: { \n                    label: \"add input\"\n                }\n            },\n            2: {\n                name: \"remove\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"button\",\n                data: { \n                    label: \"remove input\"\n                }\n            },\n        });\n        this.add = this.add.bind(this);\n        this.remove = this.remove.bind(this);\n        this.connectors[1].data.onClick = this.add;\n        this.connectors[2].data.onClick = this.remove;\n    }\n\n    add(node: Node) {\n        if(this.nodeId && this.setNodes) {\n            this.setNodes(\n                nodes => produce(nodes, (draft: NodeCollection) => {\n                    if(this.nodeId) {\n                        draft[this.nodeId].connectors[Object.keys(node.connectors).length] = {\n                            name: `param-${Object.keys(node.connectors).length-2}`,\n                            pinLayout: PinLayout.RIGHT_PIN,\n                            contentType: \"string\",\n                            data: {\n                                value: `param-${Object.keys(node.connectors).length-2}`\n                            }\n                        }\n                    }\n                })\n            );\n        }\n    }\n\n    remove(node: Node) {\n        if(Object.keys(node.connectors).length > 2) {\n\n        }\n    }\n\n    static createFromJson(jsonObj: any, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>) : FunctionInputNode {\n        let node = new FunctionInputNode();\n        Node.initFromJson(jsonObj, node);\n        node.nodeId = nodeId;\n        node.setNodes = setNodes;\n        node.connectors[1].data.onClick = node.add.bind(node);\n        node.connectors[2].data.onClick = node.remove.bind(node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        return inputs;\n    }\n}\n\nexport class FunctionOutputNode extends Node {\n    constructor() {\n        super(NodeName.FunctionOutputNode, 150, {x:0, y:0}, {\n            0: { \n                name: \"function\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"none\", \n                data: { },\n                rightPinColor: \"orange\"\n            },\n            1: { \n                name: \"return\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"none\", \n                data: { },\n                rightPinColor: \"orange\"\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : FunctionOutputNode {\n        let node = new FunctionOutputNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        return { };\n    }\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class ThreeJS extends Node {\n    constructor() {\n        super(NodeName.ThreeJS, 170, {x:0, y:0}, {\n            0: {\n                name: \"threejs\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"threejs\",\n                data: { }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : ThreeJS {\n        let node = new ThreeJS();\n        Node.initFromJson(json, node);\n        node.connectors[0].data = {};\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.obj = inputs[0] ? inputs[0][0] : undefined;\n            })\n        );\n        return {};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport * as THREE from \"three\";\n\n\n\nexport default class ThreeJSBox extends Node {\n    cube: THREE.Mesh<THREE.BoxGeometry, THREE.MeshBasicMaterial>;\n\n    constructor() {\n        super(NodeName.ThreeJSBox, 170, {x:0, y:0}, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"node\",\n                data: {}\n            },\n            1: {\n                name: \"rotation_x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            2: {\n                name: \"rotation_y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"rotation_z\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            4: {\n                name: \"color\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: { value: \"rgba(255,255,255,1)\" },\n                leftPinColor: \"orange\"\n            }\n        });\n        const geometry = new THREE.BoxGeometry( 1, 1, 1 );\n        const material = new THREE.MeshBasicMaterial( { color: 0xffffff } );\n        this.cube = new THREE.Mesh( geometry, material );\n    }\n\n    static createFromJson(json: string) : ThreeJSBox {\n        let node = new ThreeJSBox();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }): { [id: string]: any } {\n        const rotation_x = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const rotation_y = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        const rotation_z = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n        const color = \"4\" in inputs ? inputs[4] : this.connectors[4].data.value;\n\n        this.cube.material.color.setStyle(color);\n        this.cube.rotation.set(rotation_x, rotation_y, rotation_z);\n        \n        return {\"0\": this.cube};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class RangeNode extends Node {\n    constructor() {\n        super(NodeName.Range, 170, {x:0, y:0}, {\n            0: {\n                name: \"count\",\n                pinLayout: PinLayout.BOTH_PINS,\n                contentType: \"number\",\n                data: { value: 0 }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : RangeNode {\n        let node = new RangeNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const count = Number(\"0\" in inputs ? inputs[0] : this.connectors[0].data.value);\n        const array = [];\n        let cur = 0;\n        while(cur < count) {\n            array.push(cur);\n            cur++;\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.disabled = \"0\" in inputs;\n            })\n        );\n\n        return { \"0\": array };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node, { propateFunction } from \"./node\";\nimport { LinkCollection, NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport { Dispatch, SetStateAction } from \"react\";\n\nexport class MapNode extends Node {\n    \n    constructor() {\n        super(NodeName.Map, 150, {x:0, y:0}, {\n            0: { \n                name: \"output\", \n                pinLayout: PinLayout.RIGHT_PIN, \n                contentType: \"none\", \n                data: {},\n            },\n            1: { \n                name: \"input\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"none\", \n                data: {},\n            },\n            2: { \n                name: \"f\", \n                pinLayout: PinLayout.NO_PINS, \n                contentType: \"string\", \n                data: { value: \"\" },\n            }\n        });\n    }\n    \n    static createFromJson(jsonObj: any) : MapNode {\n        let node = new MapNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any; }, nodeId: string, setNodes: Dispatch<SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection): { [id: string]: any; } {\n        // 1. Fetch function node\n        const functionName = this.connectors[2].data.value;\n        let finNodeId: string = \"\";\n        Object.keys(nodes).forEach(nodeKey => {\n            const node = nodes[nodeKey];\n            if(node.name === NodeName.FunctionInputNode && node.connectors[0].data.value === functionName) {\n                finNodeId = nodeKey;\n            }\n        });\n\n        if(!(\"1\" in inputs) || finNodeId === \"\") {\n            return {\"0\": []};\n        }\n        const res = [] as any[];\n        inputs[1].forEach((e: any) => {\n            let fIns: any = {};\n            fIns[\"3\"] = e;\n            res.push(propateFunction(finNodeId, nodes, links, setNodes, fIns));\n            \n        });\n        return {\"0\": res};\n    }\n}","import { NodeCollection, NodeModel } from \"oura-node-editor\";\n\nimport Node from \"./node\";\nimport CanvasNode from \"./canvas\";\nimport RectangleNode from \"./rectangle\";\nimport RotateNode from \"./rotate\";\nimport NumberNode from \"./number\";\nimport ColorNode from \"./color\";\nimport TimerNode from \"./timer\";\nimport { NodeName } from \"./consts\";\nimport TranslateNode from \"./translate\";\nimport IfElseNode from \"./if_else\";\nimport StringNode from \"./string\";\nimport SplitNode from \"./split\";\nimport OperationNode from \"./operation\";\nimport LogNode from \"./log\";\nimport ArcNode from \"./arc\";\nimport CheckNode from \"./check\";\nimport BooleanNode from \"./boolean\";\nimport { FunctionCallNode, FunctionInputNode, FunctionOutputNode } from \"./function\";\nimport ThreeJS from \"./threejs\";\nimport ThreeJSBox from \"./threejs_box\";\nimport RangeNode from \"./range\";\nimport { MapNode } from \"./map\";\n\nfunction createNodeSchema(): { [nId: string]: NodeModel } {\n    return {\n        0: new CanvasNode(),\n        1: new RectangleNode(),\n        2: new RotateNode(),\n        3: new NumberNode(),\n        4: new TimerNode(),\n        5: new ColorNode(),\n        6: new TranslateNode(),\n        7: new IfElseNode(),\n        8: new StringNode(),\n        9: new SplitNode(),\n        10: new OperationNode(),\n        11: new LogNode(),\n        12: new ArcNode(),\n        13: new CheckNode(),\n        14: new BooleanNode(),\n        15: new FunctionInputNode(),\n        16: new FunctionOutputNode(),\n        17: new FunctionCallNode(),\n        18: new ThreeJS(),\n        19: new ThreeJSBox(),\n        20: new RangeNode(),\n        21: new MapNode()\n    };\n}\n\nfunction createNodeFromJson(jsonObj: any, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>) : Node {\n    let node: Node | undefined = undefined;\n    switch(jsonObj.name) {\n        case NodeName.Canvas:\n            node = CanvasNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Color:\n            node = ColorNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Number:\n            node = NumberNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Rectangle:\n            node = RectangleNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Rotate:\n            node = RotateNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Timer:\n            node = TimerNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Translate:\n            node = TranslateNode.createFromJson(jsonObj);\n            break;\n        case NodeName.IfElse:\n            node = IfElseNode.createFromJson(jsonObj);\n            break;\n        case NodeName.String:\n            node = StringNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Split:\n            node = SplitNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Operation:\n            node = OperationNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Log:\n            node = LogNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Arc:\n            node = ArcNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Check:\n            node = CheckNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Boolean:\n            node = BooleanNode.createFromJson(jsonObj);\n            break;\n        case NodeName.FunctionInputNode:\n            node = FunctionInputNode.createFromJson(jsonObj, nodeId, setNodes);\n            break;\n        case NodeName.FunctionOutputNode:\n            node = FunctionOutputNode.createFromJson(jsonObj);\n            break;\n        case NodeName.FunctionCallNode:\n            node = FunctionCallNode.createFromJson(jsonObj);\n            break;\n        case NodeName.ThreeJS:\n            node = ThreeJS.createFromJson(jsonObj);\n            break;\n        case NodeName.ThreeJSBox:\n            node = ThreeJSBox.createFromJson(jsonObj);\n            break;\n        case NodeName.Range:\n            node = RangeNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Map:\n            node = MapNode.createFromJson(jsonObj);\n            break;\n    }\n    if(!node) {\n        throw new Error(\"Error while reading node from json\"); \n    }\n    return node;\n}\n\nexport { Node, CanvasNode, createNodeSchema, createNodeFromJson };\n","import { useEffect, useRef } from \"react\";\nimport { ConnectorContentProps } from \"oura-node-editor\";\n\nconst Canvas = (props : ConnectorContentProps): JSX.Element => {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n\n    useEffect(() => {\n        if(canvasRef.current) {\n            const ctx = canvasRef.current.getContext(\"2d\");\n            if(ctx && props.connector.data.canvas_draw) {\n                props.connector.data.canvas_draw(ctx);\n            }\n        }\n    }, [canvasRef, props.connector.data]);\n\n    return (\n        <>\n            <div style={{position: \"absolute\", zIndex: 0.1, backgroundColor: props.connector.data.canvas_color, width: props.connector.data.canvas_width, height: props.connector.data.canvas_height}}></div>\n            <canvas style={{position: \"relative\", imageRendering: \"auto\"}} width={props.connector.data.canvas_width} height={props.connector.data.canvas_height} ref={canvasRef} />\n        </>\n    );\n};\n\nexport default Canvas;\n","import { ConnectorContentProps } from \"oura-node-editor\";\nimport * as THREE from \"three\";\nimport { useEffect, useRef } from \"react\";\n\nconst ThreeJs = (props: ConnectorContentProps): JSX.Element => {\n    const divRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (divRef.current) {\n            const div = divRef.current;\n            const scene = new THREE.Scene();\n            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            const renderer = new THREE.WebGLRenderer();\n            const light = new THREE.PointLight( 0xff0000, 1, 100 );\n            light.position.set( 1, 1, 1 );\n            scene.add(light);\n            renderer.setSize(500, 500);\n            div.appendChild(renderer.domElement);\n            camera.position.z = 5;\n\n            if (props.connector.data.obj) {\n                scene.add(props.connector.data.obj)\n            }\n\n            let id = 0;\n            const animate = () => {\n                id = requestAnimationFrame( animate );\n                renderer.render( scene, camera );\n            }\n            animate();\n\n            return () => {\n                cancelAnimationFrame(id);\n                div.removeChild(renderer.domElement);\n                renderer.dispose();\n            }\n        }\n    }, [divRef, props.connector.data]);\n\n    return (\n        <div style={{ width: 500, height: 500 }} ref={divRef}></div>\n    );\n};\n\nexport default ThreeJs;\n\n","import { ConnectorContentProps } from \"oura-node-editor\";\nimport Canvas from \"./canvas\";\nimport ThreeJs from \"./threejs\";\n\nexport function createCustomConnectorsContents(props: ConnectorContentProps): JSX.Element | null {\n    const { connector } = props;\n    if (connector.contentType === \"canvas\") {\n        return <Canvas {...props} />\n    }\n    if (connector.contentType === \"threejs\") {\n        return <ThreeJs {...props} />\n    }\n    return null;\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { produce } from \"immer\";\n\nimport {\n    NodeEditor,\n    LinkModel,\n    PanZoomModel,\n    generateUuid,\n    ConnectorModel,\n    NodeCollection,\n    LinkCollection,\n    NodeModel,\n    XYPosition,\n    SelectionItem,\n    AddNodeContextualMenu,\n    SelectionManagementContextualMenu\n} from \"oura-node-editor\";\nimport { createNodeFromJson, createNodeSchema } from \"./nodes\";\nimport { createCustomConnectorsContents } from \"./connector_content\";\nimport { propagateAll, propagateNode } from \"./nodes/node\";\n\nlet propagationValues: { [id: string]: any } = {};\n\nconst OuraCanvasApp = (): JSX.Element => {\n\n    const [nodePickerPos, setNodePickerPos] = React.useState<XYPosition | null>(null);\n    const [nodePickerOnMouseHover, setNodePickerOnMouseHover] = React.useState<boolean>(false);\n    const [panZoomInfo, setPanZoomInfo] = React.useState<PanZoomModel>({\n        zoom: 1,\n        topLeftCorner: { x: 0, y: 0 }\n    });\n    const [selectedItems, setSelectedItems] = React.useState<SelectionItem[]>([]);\n    const [nodes, setNodes] = React.useState<NodeCollection>({});\n    const [links, setLinks] = React.useState<LinkCollection>({});\n\n    const [runFirstPropagation, setRunFirstPropagation] = React.useState(false);\n    useEffect(() => {\n        const locallyStoredNodes = localStorage.getItem(\"nodes\");\n        const locallyStoredLinks = localStorage.getItem(\"links\");\n        const initNodes: NodeCollection = locallyStoredNodes ? JSON.parse(locallyStoredNodes) : {};\n        const initLinks: LinkCollection = locallyStoredLinks ? JSON.parse(locallyStoredLinks) : {};\n        if(locallyStoredNodes) {\n            Object.keys(initNodes).forEach((key) => {\n                initNodes[key] = createNodeFromJson(initNodes[key], key, setNodes);\n            });\n        }\n        setLinks(initLinks);\n        setNodes(initNodes);\n        setRunFirstPropagation(true);\n    }, []);\n\n    React.useEffect(() => {\n        if(runFirstPropagation) {\n            setRunFirstPropagation(false);\n            propagateAll(propagationValues, nodes, links, setNodes);\n        }\n    }, [runFirstPropagation, links, nodes]);\n\n    useEffect(() => {\n        if(Object.keys(nodes).length > 0) {\n            localStorage.setItem(\"nodes\", JSON.stringify(nodes));\n        }\n    }, [nodes]);\n    useEffect(() => {\n        if(Object.keys(links).length > 0) {\n            localStorage.setItem(\"links\", JSON.stringify(links));\n        }\n    }, [links]);\n\n    const nodesSchemas: { [nId: string]: NodeModel } = createNodeSchema();\n\n    const setSelectedItemsAndMoveSelectedNodeFront = useCallback((selection: SelectionItem[]) => {\n        if(selection.length === 1 && selection[0].type === \"node\") {\n            setNodes(\n                (nodes: NodeCollection) => {\n                    const selectedNodeId = selection[0].id;\n                    const newNodes: NodeCollection = {};\n                    Object.keys(nodes).forEach(key => {\n                        if(key !== selectedNodeId) {\n                            newNodes[key] = nodes[key];\n                        }\n                    });\n                    newNodes[selectedNodeId] = nodes[selectedNodeId];\n                    return newNodes;\n            })\n        }\n        setSelectedItems(selection);\n    }, []);\n\n    React.useEffect(() => {\n        const interval = setInterval(() => {\n            let updated = false;\n            const newNodes = produce(nodes, (draft: NodeCollection) => {\n                for (let key of Object.keys(nodes)) {\n                    if(draft[key].name === \"timer\" && draft[key].connectors[1].data.value) {\n                        draft[key].connectors[0].data.value = (Number(draft[key].connectors[0].data.value) + 1).toString();\n                        updated = true;\n                    }\n                }\n            });\n            if(updated) {\n                setNodes(newNodes);\n                propagateAll(propagationValues, nodes, links, setNodes);\n            }\n        }, 1000 / 60);\n        return () => clearInterval(interval);\n      }, [nodes, links]);\n\n    const onNodeMove = React.useCallback(\n        (id: string, newX: number, newY: number, newWidth: number) => { \n            setNodes(\n                nodes => produce(nodes, (draft: NodeCollection) => {\n                    draft[id].position = { x: newX, y: newY };\n                    draft[id].width = newWidth;\n                })\n            );\n        }, []\n    );\n\n    const onCreateLink = React.useCallback(\n        (link: LinkModel) => {\n            setLinks(\n                links => produce(links, (draft) => {\n                    draft[generateUuid()] = link;\n                })\n            );\n            const newLinks = produce(links, (draft) => {\n                draft[generateUuid()] = link;\n            });\n            propagateNode(link.outputNodeId, propagationValues, nodes, newLinks, setNodes);\n        }, [links, nodes]\n    );\n\n    const onDeleteSelection = React.useCallback(\n        () => {\n            const deleteNodeIds = selectedItems.filter((value: SelectionItem) => value.type === \"node\").map((value) => value.id);\n            const deletedLinksIds = selectedItems.filter((value: SelectionItem) => value.type === \"link\").map((value) => value.id);\n            setNodes(\n                nodes => produce(nodes, (draft: NodeCollection) => {\n                    deleteNodeIds.forEach((id) => {\n                        delete draft[id];\n                    });\n                })\n            );\n            setLinks(\n                links => produce(links, (draft: LinkCollection) => {\n                    Object.keys(links).forEach(linkKey => {\n                        const link = links[linkKey];\n                        if (deleteNodeIds.includes(link.inputNodeId) || deleteNodeIds.includes(link.outputNodeId)) {\n                            delete draft[linkKey];\n                        }\n                    });\n                    deletedLinksIds.forEach((id) => {\n                        delete draft[id];\n                    });\n                })\n            );\n\n            const newNodes = produce(nodes, (draft: NodeCollection) => {\n                deleteNodeIds.forEach((id) => {\n                    delete draft[id];\n                });\n            });\n            const nodeIdToRecompute: string[] = [];\n            const newLinks = produce(links, (draft: LinkCollection) => {\n                Object.keys(links).forEach(linkKey => {\n                    const link = links[linkKey];\n                    if (deleteNodeIds.includes(link.inputNodeId) || deleteNodeIds.includes(link.outputNodeId)) {\n                        if(deleteNodeIds.includes(link.outputNodeId) && !deleteNodeIds.includes(link.inputNodeId)) {\n                            nodeIdToRecompute.push(link.inputNodeId);\n                        }\n                        delete draft[linkKey];\n                    }\n                });\n                deletedLinksIds.forEach((id) => {\n                    delete draft[id];\n                });\n            });\n            Object.keys(propagationValues).forEach(key => {\n                if(!(key in newLinks)) {\n                    delete propagationValues[key];\n                }\n            });\n            nodeIdToRecompute.forEach(nodeId => propagateNode(nodeId, propagationValues, newNodes, newLinks, setNodes));\n        },\n        [selectedItems, nodes, links]\n    );\n\n    const [newNodeId, setNewNodeId] = useState<string | undefined>(undefined);\n    useEffect(() => {\n        if(newNodeId) {\n            propagateNode(newNodeId, propagationValues, nodes, links, setNodes)\n            setNewNodeId(undefined);\n        }\n    }, [newNodeId, nodes, links]);\n    const onNodeSelection = React.useCallback(\n        (id: string) => {\n            if (nodePickerPos) {\n                const newNodeId = generateUuid();\n                setNodes(\n                    nodes => produce(nodes, (draft) => {\n                        const jsonObj = JSON.parse(JSON.stringify(nodesSchemas[id]));\n                        const newNode = createNodeFromJson(jsonObj, newNodeId, setNodes);\n                        const newX =\n                            -panZoomInfo.topLeftCorner.x / panZoomInfo.zoom +\n                            nodePickerPos.x / panZoomInfo.zoom;\n                        const newY =\n                            -panZoomInfo.topLeftCorner.y / panZoomInfo.zoom +\n                            nodePickerPos.y / panZoomInfo.zoom;\n                        newNode.position = { x: newX, y: newY };\n                        draft[newNodeId] = newNode;\n                    })\n                );\n                setNewNodeId(newNodeId);\n                setNodePickerOnMouseHover(false);\n                setNodePickerPos(null);\n            }\n        },\n        [panZoomInfo, nodePickerPos, nodesSchemas]\n    );\n\n    const onConnectorUpdate = React.useCallback(\n        (nodeId: string, cId: string, connector: ConnectorModel) => {\n            setNodes(\n                nodes => produce(nodes, (draft) => {\n                    draft[nodeId].connectors[cId] = connector;\n                })\n            );\n            const newNodes = produce(nodes, (draft) => {\n                draft[nodeId].connectors[cId] = connector;\n            });\n            propagateNode(nodeId, propagationValues, newNodes, links, setNodes);\n        }, [nodes, links]\n    );\n\n    const onContextMenu = React.useCallback(\n        (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            event.preventDefault();\n            if (!nodePickerPos) {\n                setNodePickerPos({ x: event.pageX, y: event.pageY });\n            } else {\n                setNodePickerOnMouseHover(false);\n                setNodePickerPos(null);\n            }\n        },\n        [nodePickerPos]\n    );\n\n    const onMouseDown = React.useCallback(\n        () => {\n            if(nodePickerPos && !nodePickerOnMouseHover) {\n                setNodePickerOnMouseHover(false);\n                setNodePickerPos(null);\n            }\n        },\n        [nodePickerOnMouseHover, nodePickerPos, setNodePickerPos]\n    );\n\n    const onSaveButton = useCallback(() => {\n        const data = {\n            \"nodes\": nodes,\n            \"links\": links\n        };\n\n        const element = document.createElement('a');\n        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(JSON.stringify(data)));\n        element.setAttribute('download', \"oura-node-editor.json\");\n      \n        element.style.display = 'none';\n        document.body.appendChild(element);\n      \n        element.click();\n      \n        document.body.removeChild(element);\n    }, [nodes, links]);\n\n    const onLoadButton = useCallback((evt) => {\n        propagationValues = {};\n        if(evt.target.files.size < 1) {\n            return;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (file) => {\n            if(file.target && file.target.result && file.target.result) {\n                const data = JSON.parse(atob((file.target.result as string).substring(29)));\n                Object.keys(data.nodes).forEach((key) => {\n                    data.nodes[key] = createNodeFromJson(data.nodes[key], key, setNodes);\n                });\n                setNodes(data.nodes);\n                setLinks(data.links);\n                setRunFirstPropagation(true);\n            }\n        };\n        reader.readAsDataURL(evt.target.files[0]);\n    }, []);\n\n    const onResetButton = useCallback(() => {\n        propagationValues = {};\n        setNodes({});\n        setLinks({});\n    }, []);\n\n    let nodePicker = null;\n    if(nodePickerPos && selectedItems.length === 0) {\n        nodePicker = <div\n                style={{\n                    width: 640,\n                    height: 500,\n                    position: \"absolute\",\n                    top: nodePickerPos.y,\n                    left: nodePickerPos.x,\n                    backgroundColor: \"white\"\n                }}>\n                <AddNodeContextualMenu \n                    nodesSchema={nodesSchemas}\n                    onNodeSelection={onNodeSelection}\n                    onMouseHover={setNodePickerOnMouseHover}\n                    createCustomConnectorComponent={createCustomConnectorsContents}\n                />\n            </div>;\n    }\n    else if(nodePickerPos) {\n        nodePicker = <div\n            style={{\n                width: 640,\n                height: 480,\n                position: \"absolute\",\n                top: nodePickerPos.y,\n                left: nodePickerPos.x,\n                backgroundColor: \"white\"\n            }}>\n                <SelectionManagementContextualMenu\n                    onMouseHover={setNodePickerOnMouseHover}\n                    onDeleteSelection={onDeleteSelection}\n                />\n            </div>\n    }\n\n    const buttonStyle = {\n        font: \"bold 11px Arial\",\n        textDecoration: \"none\",\n        backgroundColor: \"#EEEEEE\",\n        color: \"#333333\",\n        padding: \"2px 6px 2px 6px\",\n        borderTop: \"1px solid #CCCCCC\",\n        borderRight: \"1px solid #333333\",\n        borderBottom: \"1px solid #333333\",\n        borderLeft: \"1px solid #CCCCCC\"\n    };\n\n    return (\n        <>\n            <div\n                style={{ width: \"100%\", height: \"100%\" }}\n                onContextMenu={onContextMenu}\n                onMouseDown={onMouseDown}\n                tabIndex={0}>\n                <NodeEditor\n                    panZoomInfo={panZoomInfo}\n                    nodes={nodes}\n                    links={links}\n                    selectedItems={selectedItems}\n                    onPanZoomInfo={setPanZoomInfo}\n                    onSelectedItems={setSelectedItemsAndMoveSelectedNodeFront}\n                    onNodeMove={onNodeMove}\n                    onCreateLink={onCreateLink}\n                    onConnectorUpdate={onConnectorUpdate}\n                    createCustomConnectorComponent={createCustomConnectorsContents}\n                />\n                {nodePicker}\n            </div>\n            <button onClick={onSaveButton} style={{position: \"absolute\", left: 5, bottom: 5, ...buttonStyle}}>save</button>\n            <label htmlFor=\"files\" className=\"btn\" style={{position: \"absolute\", left: 55, bottom: 5, ...buttonStyle}}>load</label>\n            <input onChange={onLoadButton} id=\"files\" style={{visibility: \"hidden\"}} type=\"file\"/>\n            <button onClick={onResetButton} style={{position: \"absolute\", right: 5, bottom: 5, ...buttonStyle}}>reset</button>\n        </>\n    );\n};\n\nexport default OuraCanvasApp;\n","import React from \"react\";\n\nimport OuraCanvasApp from \"./oura_canvas\";\n\nconst App = (): JSX.Element => (\n    <div style={{ width: \"100%\", height: \"100vh\" }} className=\"App\">\n        <OuraCanvasApp />\n    </div>\n);\n\nexport default App;\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst container = document.getElementById('root');\nconst root = createRoot(container!); // createRoot(container!) if you use TypeScript\nroot.render(<React.StrictMode><App /></React.StrictMode>);\n"],"sourceRoot":""}
{"version":3,"sources":["../../../src/node_editor/model.ts","../../../src/node_editor/pan_zoom.tsx","../../../../src/node_editor/theme/dark.ts","../../../../src/node_editor/theme/index.ts","../../../src/node_editor/background.tsx","../../../../src/node_editor/link/link_bezier.tsx","../../../../src/node_editor/link/link_line.tsx","../../../../src/node_editor/link/index.tsx","../../../src/node_editor/link_canvas.tsx","../../../../src/node_editor/connector_content/default.tsx","../../../../src/node_editor/connector_content/error.tsx","../../../../src/node_editor/connector_content/check_box.tsx","../../../../src/node_editor/connector_content/number.tsx","../../../../src/node_editor/connector_content/select.tsx","../../../../src/node_editor/connector_content/button.tsx","../../../../src/node_editor/connector_content/text_area.tsx","../../../../src/node_editor/connector_content/string.tsx","../../../../src/node_editor/utils/index.ts","../../../../src/node_editor/utils/drag.ts","../../../../src/node_editor/node/pin.tsx","../../../../src/node_editor/node/connector.tsx","../../../../src/node_editor/connector_content/index.tsx","../../../../src/node_editor/node/header.tsx","../../../../src/node_editor/node/footer.tsx","../../../../src/node_editor/node/node.tsx","../../../src/node_editor/node_canvas.tsx","../../../src/node_editor/node_editor.tsx","nodes/consts.ts","../../../src/contextual_menu/menu_item_list.tsx","../../../src/contextual_menu/basic_contextual_menu.tsx","../../../src/contextual_menu/add_node_contextual_menu.tsx","../../../src/contextual_menu/selection_management_contextual_menu.tsx","nodes/node.ts","nodes/canvas.ts","nodes/rectangle.ts","nodes/rotate.ts","nodes/number.ts","nodes/color.ts","nodes/timer.ts","nodes/translate.ts","nodes/if_else.ts","nodes/string.ts","nodes/split.ts","nodes/operation.ts","nodes/log.ts","nodes/arc.ts","nodes/check.ts","nodes/boolean.ts","nodes/function.ts","nodes/threejs.tsx","nodes/threejs_box.tsx","nodes/range.ts","nodes/map.ts","nodes/textArea.ts","nodes/pop.ts","nodes/length.ts","nodes/index.ts","connector_content/canvas.tsx","connector_content/threejs.tsx","connector_content/index.tsx","oura_canvas.tsx","App.tsx","index.tsx"],"names":["PinSide","PinLayout","arePositionEquals","rPos","lPos","x","y","generateUuid","replace","c","r","Math","random","toString","props","_super","_this","state","panDisabled","onMouseDown","bind","onMouseUp","onZoomChange","onPanning","onPanningStart","onPanningStop","__extends","PanZoom","e","shiftKey","target","mouseDownOnLinkCanvas","id","mouseDownOnPanCanvas","className","includes","setState","button","ref","onPanZoomInfo","zoom","scale","topLeftCorner","positionX","positionY","panStartPosition","onSelectItem","panEndPosition","panZoomInfo","children","React","style","position","width","height","TransformWrapper","limitToBounds","minScale","panning","excluded","disabled","velocityDisabled","doubleClick","wheel","step","onWheel","initialScale","initialPositionX","initialPositionY","TransformComponent","theme","node","selected","boxShadow","borderRadius","header","backgroundColor","color","cursor","overflow","paddingLeft","body","footer","basePin","customPins","string","transform","link","stroke","strokeWidth","fill","unselected","connectors","leftText","textOverflow","border","outline","number","boxSizing","textAlign","paddingRight","select","buildBackgroundStyle","grid","String","backgroundPosition","concat","backgroundImage","ThemeContext","createContext","darkTheme","BackGround","useContext","top","left","BezierLink","nextProps","_","event","linkId","onSelectLink","context","linkPosition","isLinkSelected","sourceX","inputPinPosition","sourceY","targetX","outputPinPosition","targetY","center","source","offsetX","abs","xCenter","offsetY","getCenter","path","__assign","_a","_b","_c","_d","_e","_f","d","onClick","Component","contextType","LineLink","x1","y1","x2","y2","createLink","linkType","LinkCanvas","linksPositions","selectedItems","draggedLink","Object","keys","links","filter","key","map","some","type","DefaultConnectorContent","connector","pinLayout","RIGHT_PIN","name","ErrorConnectorComponent","message","CheckBox","onChange","nodeId","cId","onConnectorUpdate","produce","draft","data","value","ErrorConnectorContent","tabIndex","checked","NumberConnectorContent","isEqual","isNaN","Number","currentTarget","display","placeholder","SelectConnectorContent","setSelectedValue","useCallback","selected_index","newConnector","selectedIndex","defaultValue","values","ButtonConnectorContent","label","createRef","TextAreaConnectorContent","textAreaRef","current","height_1","whiteSpace","resize","StringConnectorContent","DragWrapper","onMouseMove","initialPos","getZoom","window","addEventListener","finalPos","lastZoom","tmpPos","pageX","pageY","onMouseMoveCb","onMouseUpCb","offsetPos","targetClassName","removeEventListener","Pin","contentType","leftPinPosition","pinPxRadius","pinColor","customStyle","undefined","Connector","onPinPositionUpdate","leftPinPos","getConnectorPinPosition","LEFT","rightPinPos","RIGHT","pinSide","onUpdatePreviewLink","onCreateLink","pinPosition","dragWrapper","_iPos","_fPos","mouseUpEvent","tag","match","inputNodeId","inputPinId","inputPinSide","outputNodeId","outputPinId","outputPinSide","connectorRef","NO_PINS","LEFT_PIN","offsetTop","offsetHeight","createCustomConnectorComponent","connectorContent","createConnectorComponent","paddingTop","BOTH_PINS","leftPinColor","rightPinColor","Header","Footer","Node","isNodeSelected","onNodeMoveStart","onNodeMove","onNodeMoveEnd","stopEvent","classNameStr","_finalPos","iPos","fPos","mouseUpEv","onNodePinPositionsUpdate","pinPositions","connectableConnectorsLength","length","nodeCoreSelectionStyle","NodeEditor","selection","alreadySelected","forEach","item","lastSettedSelection","offsetWidth","nodes","newX","newY","newWidth","wasNodeMoved","enableMapSet","NodeName","filterRenderedNodes","filterRenderedLinks","updateLinkPositions","onSelectedItems","newSelection","indexToDelete_1","index","splice","push","previewLink","nodesPinPositions","redrawPinPosition","newLinksPositions","iNPins","oNPins","mainDivRef","minX","minY","maxX","margin","maxY","filteredNodes","valueInRange","min","max","xOverlap","yOverlap","renderedNodesKeys","filteredlinks","renderedNodes","renderedLinks","Provider","NodeCanvas","MenuItem","onMouseEnter","onMouseLeave","MenuItemList","items","BasicContextualMenu","useState","searchText","setSearchText","filteredItems","toLowerCase","lcSearchText","menuTitle","NodePrevisualizer","previewDivRef","useRef","nodeElem","divDim","getBoundingClientRect","displayedNode","gridArea","AddNodeContextualMenu","onNodeSelection","onMouseHover","previsualizedNodeId","setPrevisualizedNodeId","nodesSchema","onMouseLeaves","SelectionManagementContextualMenu","onDeleteSelection","delete_selection","getOutputLinks","linkOutputs","linkKey","getInputsLinks","propagationDictToOrderedList","propagationDict","propagationList","sort","a","b","createPropagationTree","depth","outputLinks","TaskQueue","tasks","propagationValues","functionCalls","functionResults","this","pop","fIns","fLinkId","find","fOutId","unshift","functionOutId","inputs","alreadyComputedNodes","toBeComputed","console","log","v","k","FunctionOutputNode","fOutIdLinks","fInId","fIn","FunctionInputNode","funName","functionCallersNodeIds","FunctionCallNode","Map","propagateNode","setNodes","runFunctionTask","runTask","functionCall","outputsLinks","outputsNodes","readyToCompute","IfElse","ifLinkId","res","depNodeId","inputLinks","inputValues","pinId","isMultiInputAllowed","registerfunctionRun","outputValues","computeSpecific","ouputsLinks","shift","fLinkResId","propagingNodeId","immerable","queue","jsonObj","CanvasNode","Canvas","canvas_width","canvas_height","canvas_color","draw","ctx","clearRect","canvas","Array","isArray","ee","canvas_draw","initFromJson","RectangleNode","Rectangle","lineWidth","fillStyle","fillRect","strokeStyle","oldLineWidth","strokeRect","RotateNode","Rotate","rotation","PI","rotate","NumberNode","json","ColorNode","Color","red","green","blue","alpha","colorCode","TimerNode","Timer","TranslateNode","Translate","translate","IfElseNode","cond","if_value","ret","StringNode","SplitNode","Split","str","split","RegExp","OperationNode","Operation","pow","log10","sin","cos","tan","LogNode","Log","JSON","stringify","ArcNode","Arc","radius","start_angle","end_angle","counterclockwise","beginPath","arc","closePath","CheckNode","Check","BooleanNode","Boolean","functionName","expectedConnectors","finNodeId","nodeKey","i","propateFunction","popResult","add","remove","ThreeJS","obj","ThreeJSBox","cube","geometry","THREE","material","rotation_x","rotation_y","rotation_z","setStyle","set","RangeNode","Range","count","array","cur","MapNode","TextAreaNode","TextArea","PopNode","Pop","elem","LengthNode","Length","createNodeFromJson","createFromJson","Error","canvasRef","useEffect","getContext","zIndex","imageRendering","ThreeJs","divRef","div","scene","camera","innerWidth","innerHeight","renderer","light","setSize","appendChild","domElement","z","animate","requestAnimationFrame","render","cancelAnimationFrame","removeChild","dispose","createCustomConnectorsContents","taskQueue","OuraCanvasApp","nodePickerPos","setNodePickerPos","nodePickerOnMouseHover","setNodePickerOnMouseHover","setPanZoomInfo","setSelectedItems","setLinks","runFirstPropagation","setRunFirstPropagation","locallyStoredNodes","localStorage","getItem","locallyStoredLinks","initNodes","parse","initLinks","propagateAll","runAll","setItem","nodesSchemas","setSelectedItemsAndMoveSelectedNodeFront","selectedNodeId","newNodes","interval","setInterval","updated","clearInterval","newLinks","deleteNodeIds","deletedLinksIds","nodeIdToRecompute","newNodeId","setNewNodeId","newNode","onContextMenu","preventDefault","onSaveButton","element","document","createElement","setAttribute","encodeURIComponent","click","onLoadButton","evt","reset","files","size","reader","FileReader","onload","file","result","atob","substring","readAsDataURL","onResetButton","nodePicker","buttonStyle","font","textDecoration","padding","borderTop","borderRight","borderBottom","borderLeft","bottom","htmlFor","visibility","right","App","container","getElementById","createRoot","StrictMode"],"mappings":"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","file":"static/js/main.062cd8a8.chunk.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"export enum NodeName {\n    Canvas = \"canvas\",\n    Color = \"color\",\n    Number = \"number\",\n    Rectangle = \"rectangle\",\n    Rotate = \"rotate\",\n    Timer = \"timer\",\n    Translate = \"translate\",\n    IfElse = \"if-else\",\n    String = \"string\",\n    Split = \"split\",\n    Operation = \"operation\",\n    Log = \"log\",\n    Arc = \"arc\",\n    Check = \"check\",\n    Boolean = \"boolean\",\n    FunctionInputNode = \"function-inputs\",\n    FunctionOutputNode = \"function-outputs\",\n    FunctionCallNode = \"function-call\",\n    ThreeJS = \"threejs\",\n    ThreeJSBox = \"threejs-box\",\n    Range = \"range\",\n    Map = \"map\",\n    TextArea = \"text-area\",\n    Pop = \"pop\",\n    Length = \"length\"\n}",null,null,null,null,"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { immerable } from \"immer\";\nimport {\n    ConnectorCollection,\n    LinkCollection,\n    NodeCollection,\n    NodeModel,\n    XYPosition\n} from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nfunction getOutputLinks(nodeId: string, links: LinkCollection): LinkCollection {\n    const linkOutputs: LinkCollection = {};\n    Object.keys(links).forEach((linkKey) => {\n        const link = links[linkKey];\n        if (link.outputNodeId === nodeId) {\n            linkOutputs[linkKey] = links[linkKey];\n        }\n    });\n    return linkOutputs;\n}\n\nfunction getInputsLinks(nodeId: string, links: LinkCollection): LinkCollection {\n    const linkOutputs: LinkCollection = {};\n    Object.keys(links).forEach((linkKey) => {\n        const link = links[linkKey];\n        if (link.inputNodeId === nodeId) {\n            linkOutputs[linkKey] = links[linkKey];\n        }\n    });\n    return linkOutputs;\n}\n\nfunction propagationDictToOrderedList(propagationDict: { [id: string]: number }): string[] {\n    const propagationList: [string, number][] = [];\n    Object.keys(propagationDict).forEach(nodeId => propagationList.push([nodeId, propagationDict[nodeId]]));\n    propagationList.sort((a, b) => a[1] - b[1]);\n    return propagationList.map(([nodeId, _]) => nodeId);\n}\n\nfunction createPropagationTree(nodeId: string, links: LinkCollection, depth: number, propagationDict: { [id: string]: number }): void {\n    propagationDict[nodeId] = nodeId in propagationDict ? Math.max(depth, propagationDict[nodeId]) : depth;\n    const outputLinks = getOutputLinks(nodeId, links);\n    Object.keys(outputLinks).forEach(linkKey => {\n        createPropagationTree(links[linkKey].inputNodeId, links, depth + 1, propagationDict);\n    });\n}\n\ntype FunctionCall = {\n    functionOutId: string;\n    propagationValues: { [id: string]: any };\n    inputs: { [id: string]: any };\n    alreadyComputedNodes: string[];\n    toBeComputed: [string, boolean][];\n}\n\nexport class TaskQueue {\n    protected tasks: [string, boolean][] = [];\n    protected propagationValues: { [id: string]: any } = {};\n    protected functionCalls: FunctionCall[] = [];\n    protected functionResults: any[] = [];\n\n    reset() {\n        this.tasks = [];\n        this.propagationValues = {};\n        this.functionCalls = [];\n        this.functionResults = [];\n    }\n\n    popResult(): any {\n        return this.functionResults.pop();\n    }\n\n    propateFunction(nodeId: string, links: LinkCollection, fIns: { [id: string]: any }): any {\n        // 1. search output node\n        const fLinkId = Object.keys(links).find((key) => {\n            const link = links[key];\n            return link.outputNodeId === nodeId && link.outputPinId === \"0\";\n        });\n        if (!fLinkId) {\n            console.log(\"no node id\");\n            return;\n        }\n\n        const fOutId = links[fLinkId].inputNodeId;\n        this.functionCalls.unshift({\n            functionOutId: fOutId,\n            inputs: fIns,\n            propagationValues: {},\n            alreadyComputedNodes: [],\n            toBeComputed: [[fOutId, false]],\n        });\n    }\n\n    propagateAll(nodes: NodeCollection, links: LinkCollection) {\n        const propagationDict: { [id: string]: number } = {};\n        Object.keys(nodes).forEach(nodeId => {\n            createPropagationTree(nodeId, links, 0, propagationDict);\n        });\n        const propagationList = propagationDictToOrderedList(propagationDict);\n        propagationList.forEach(v => this.tasks.push([v, false]));\n    }\n\n    propagateNode(nodeId: string, nodes: NodeCollection, links: LinkCollection) {\n        const propagationDict: { [id: string]: number } = {};\n        createPropagationTree(nodeId, links, 0, propagationDict);\n        const propagationList = propagationDictToOrderedList(propagationDict);\n\n        let fOutId = \"\";\n        propagationList.forEach(k => {\n            if (nodes[k].name === NodeName.FunctionOutputNode) {\n                fOutId = k;\n            }\n        });\n\n        // If one of the node to propagate is a function output node\n        if (fOutId !== \"\") {\n            // Search associate function input\n            const fOutIdLinks = getInputsLinks(fOutId, links);\n            let fInId = \"\";\n            Object.keys(fOutIdLinks).forEach(k => {\n                if (links[k].inputPinId === \"0\") {\n                    fInId = links[k].outputNodeId;\n                }\n            });\n            const fIn = nodes[fInId];\n            // If function input is found\n            if (fIn && fIn.name === NodeName.FunctionInputNode) {\n                const funName = fIn.connectors[\"0\"].data.value;\n                const functionCallersNodeIds: string[] = [];\n                // Find each function caller and call them\n                Object.keys(nodes).forEach(k => {\n                    if (nodes[k].name === NodeName.FunctionCallNode && nodes[k].connectors[\"0\"].data.value === funName) {\n                        functionCallersNodeIds.push(k);\n                    }\n                    if (nodes[k].name === NodeName.Map && nodes[k].connectors[\"2\"].data.value === funName) {\n                        functionCallersNodeIds.push(k);\n                    }\n                });\n                functionCallersNodeIds.forEach(k => this.propagateNode(k, nodes, links));\n            }\n        }\n        // Else, run nominal transformation\n        else {\n            propagationList.forEach(v => this.tasks.push([v, false]));\n        }\n    }\n\n    runAll(nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>) {\n        while (this.functionCalls.length > 0 || this.tasks.length > 0) {\n            if (this.functionCalls.length > 0) {\n                this.runFunctionTask(nodes, links, setNodes);\n            } else {\n                this.runTask(nodes, links, setNodes);\n            }\n        }\n    }\n\n    runFunctionTask(nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>) {\n        const functionCall = this.functionCalls[0];\n        const nodeId = functionCall.toBeComputed[0][0];\n\n        if (nodeId) {\n            const node = nodes[nodeId] as Node;\n            const outputsLinks = getInputsLinks(nodeId, links);\n            const outputsNodes = Object.keys(outputsLinks).map(k => {\n                return links[k].outputNodeId;\n            });\n\n            let readyToCompute = true;\n            if (node.name === NodeName.IfElse) {\n                Object.keys(outputsLinks).forEach(ifLinkId => {\n                    if (links[ifLinkId].inputPinId === \"1\") {\n                        if (ifLinkId in functionCall.propagationValues) {\n                            const res = functionCall.propagationValues[ifLinkId] as boolean;\n                            Object.keys(outputsLinks).forEach(k => {\n                                if ((links[k].inputPinId === \"2\" && res) || (links[k].inputPinId === \"3\" && !res)) {\n                                    const id = links[k].outputNodeId;\n                                    if (!functionCall.alreadyComputedNodes.includes(id)) {\n                                        readyToCompute = false;\n                                        functionCall.toBeComputed.unshift([id, false]);\n                                    }\n                                }\n                            });\n                        } else {\n                            readyToCompute = false;\n                            functionCall.toBeComputed.unshift([links[ifLinkId].outputNodeId, false]);\n                        }\n                    }\n                });\n            } else {\n                outputsNodes.forEach((depNodeId) => {\n                    if (!functionCall.alreadyComputedNodes.includes(depNodeId)) {\n                        readyToCompute = false\n                        functionCall.toBeComputed.unshift([depNodeId, false]);\n                    }\n                });\n            }\n\n            if (readyToCompute) {\n                // Preparing inputs of current propagation\n                const inputLinks = getInputsLinks(nodeId, links);\n                const inputValues: { [id: string]: any } = {};\n                Object.keys(inputLinks).forEach((linkId) => {\n                    if (!(linkId in functionCall.propagationValues)) {\n                        return;\n                    }\n                    const pinId = links[linkId].inputPinId;\n                    if (node.connectors[pinId].isMultiInputAllowed) {\n                        if (!(pinId in inputValues)) {\n                            inputValues[pinId] = [];\n                        }\n                        inputValues[pinId].push(functionCall.propagationValues[linkId]);\n                    } else {\n                        inputValues[pinId] = functionCall.propagationValues[linkId];\n                    }\n                });\n                // Computing current node\n                if (!functionCall.toBeComputed[0][1]) {\n                    functionCall.toBeComputed[0][1] = node.registerfunctionRun(inputValues, nodeId, setNodes, nodes, links, this);\n                    if (functionCall.toBeComputed[0][1]) {\n                        return;\n                    }\n                }\n                const outputValues = node.computeSpecific(node.name === NodeName.FunctionInputNode ? functionCall.inputs : inputValues, nodeId, setNodes, nodes, links, this);\n                // Adding values to propagationValues\n                const ouputsLinks = getOutputLinks(nodeId, links);\n                Object.keys(ouputsLinks).forEach((linkId) => {\n                    functionCall.propagationValues[linkId] = outputValues[links[linkId].outputPinId];\n                });\n                functionCall.alreadyComputedNodes.push(nodeId);\n                functionCall.toBeComputed.shift();\n            }\n\n            if (functionCall.toBeComputed.length === 0) {\n                const fLinkResId = Object.keys(links).find((key) => {\n                    const link = links[key];\n                    return link.inputNodeId === functionCall.functionOutId && link.inputPinId === \"1\";\n                });\n                if (fLinkResId && fLinkResId in functionCall.propagationValues) {\n                    this.functionResults.push(functionCall.propagationValues[fLinkResId]);\n                    this.functionCalls.shift();\n                } else {\n                    this.functionResults.push(undefined);\n                    this.functionCalls.shift();\n                }\n            }\n        }\n    }\n\n    runTask(nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>) {\n        const propagingNodeId = this.tasks[0];\n        if (propagingNodeId) {\n            const node = nodes[propagingNodeId[0]] as Node;\n            // Preparing inputs of current propagation\n            const inputLinks = getInputsLinks(propagingNodeId[0], links);\n            const inputValues: { [id: string]: any } = {};\n            Object.keys(inputLinks).forEach((linkId) => {\n                if (!(linkId in this.propagationValues)) {\n                    return;\n                }\n                const pinId = links[linkId].inputPinId;\n                if (node.connectors[pinId] && node.connectors[pinId].isMultiInputAllowed) {\n                    if (!(pinId in inputValues)) {\n                        inputValues[pinId] = [];\n                    }\n                    inputValues[pinId].push(this.propagationValues[linkId]);\n                } else if (node.connectors[pinId]) {\n                    inputValues[pinId] = this.propagationValues[linkId];\n                }\n            });\n            // Executing\n            if (!propagingNodeId[1]) {\n                this.tasks[0][1] = node.registerfunctionRun(inputValues, propagingNodeId[0], setNodes, nodes, links, this);\n                if (this.tasks[0][1]) {\n                    return;\n                }\n            }\n            const outputValues = node.computeSpecific(inputValues, propagingNodeId[0], setNodes, nodes, links, this);\n            // Adding values to propagationValues\n            const ouputsLinks = getOutputLinks(propagingNodeId[0], links);\n            Object.keys(ouputsLinks).forEach((linkId) => {\n                this.propagationValues[linkId] = outputValues[links[linkId].outputPinId];\n            });\n            this.tasks.shift();\n        }\n    }\n};\n\n/*\nexport function propagateNode(nodeId: string, propagationValues: { [id: string]: any }, nodes: NodeCollection, links: LinkCollection, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): void {\n    const propagationDict: { [id: string]: number } = {};\n    createPropagationTree(nodeId, links, 0, propagationDict);\n    const propagationList = propagationDictToOrderedList(propagationDict);\n\n    let fOutId = \"\";\n    propagationList.forEach(k => {\n        if (nodes[k].name === NodeName.FunctionOutputNode) {\n            fOutId = k;\n        }\n    });\n\n    // If one of the node to propagate is a function output node\n    if (fOutId !== \"\") {\n        // Search associate function input\n        const fOutIdLinks = getInputsLinks(fOutId, links);\n        let fInId = \"\";\n        Object.keys(fOutIdLinks).forEach(k => {\n            if (links[k].inputPinId === \"0\") {\n                fInId = links[k].outputNodeId;\n            }\n        });\n        const fIn = nodes[fInId];\n        // If function input is found\n        if (fIn && fIn.name === NodeName.FunctionInputNode) {\n            const funName = fIn.connectors[\"0\"].data.value;\n            const functionCallersNodeIds: string[] = [];\n            // Find each function caller and call them\n            Object.keys(nodes).forEach(k => {\n                if (nodes[k].name === NodeName.FunctionCallNode && nodes[k].connectors[\"0\"].data.value === funName) {\n                    functionCallersNodeIds.push(k);\n                }\n                if (nodes[k].name === NodeName.Map && nodes[k].connectors[\"2\"].data.value === funName) {\n                    functionCallersNodeIds.push(k);\n                }\n            });\n            functionCallersNodeIds.forEach(k => propagateNode(k, propagationValues, nodes, links, setNodes));\n        }\n    }\n\n    // Else, run nominal transformation\n    else {\n        //propagateFromList(propagationList, propagationValues, nodes, links, setNodes);\n    }\n}*/\n\nexport default abstract class Node implements NodeModel {\n    [immerable] = true;\n    public name: string;\n    public position: XYPosition;\n    public width: number;\n    public connectors: ConnectorCollection;\n\n    constructor(name: string, width: number, position: XYPosition, connectors: ConnectorCollection) {\n        this.name = name;\n        this.width = width;\n        this.position = position;\n        this.connectors = connectors;\n    }\n\n    static initFromJson(jsonObj: any, node: Node) {\n        node.name = jsonObj.name;\n        node.width = jsonObj.width;\n        node.position = jsonObj.position;\n        node.connectors = jsonObj.connectors;\n    }\n\n    public registerfunctionRun(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection, queue: TaskQueue): boolean {\n        return false;\n    }\n    abstract computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection, queue: TaskQueue): { [id: string]: any };\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class CanvasNode extends Node {\n    constructor() {\n        super(NodeName.Canvas, 430, {x:0, y:0}, {\n            0: { \n                name: \"draw\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"canvas\", \n                data: { canvas_width: 400, canvas_height: 400, canvas_color: \"white\" },\n                isMultiInputAllowed: true\n            },\n            1: { \n                name: \"width\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 400 } \n            },\n            2: { \n                name: \"height\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 400 } \n            },\n            3: {\n                name: \"color\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: { value: \"white\" },\n                leftPinColor: \"orange\"\n            },\n        });\n    }\n\n    static createFromJson(jsonObj: any) : CanvasNode {\n        let node = new CanvasNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const width = Number(\"1\" in inputs ? inputs[1] : this.connectors[1].data.value);\n        const height = Number(\"2\" in inputs ? inputs[2] : this.connectors[2].data.value);\n        const color = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n\n        const draw = (ctx: CanvasRenderingContext2D) => {\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            if (inputs[0]) {\n                inputs[0].forEach((e: any) => {\n                    if(Array.isArray(e)) {\n                        e.forEach(ee => ee(ctx));\n                    } else {\n                        e(ctx);\n                    }\n                    \n                });  \n            }\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.canvas_width = Number(width);\n                draft[nodeId].connectors[0].data.canvas_height = Number(height);\n                draft[nodeId].connectors[0].data.canvas_color = color;\n                draft[nodeId].connectors[0].data.canvas_draw = draw;\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = width;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = height;\n            })\n        );\n\n        return {};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class RectangleNode extends Node {\n    constructor() {\n        super(NodeName.Rectangle, 200, {x:0, y:0}, {\n            0: { name: \"draw\", pinLayout: PinLayout.RIGHT_PIN, contentType: \"none\", data: {} },\n            1: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            2: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"width\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 100, disabled: false }\n            },\n            4: {\n                name: \"height\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 100, disabled: false }\n            },\n            5: {\n                name: \"color\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: { value: \"black\" },\n                leftPinColor: \"orange\"\n            },\n            6: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"fill\", \"stroke\", \"clear\"],\n                    selected_index: 0\n                }\n            },\n            7: {\n                name: \"line width\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 1, disabled: false }\n            },\n        });\n    }\n\n    static createFromJson(jsonObj: any) : RectangleNode {\n        let node = new RectangleNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const y = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        const width = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n        const height = \"4\" in inputs ? inputs[4] : this.connectors[4].data.value;\n        const color = \"5\" in inputs ? inputs[5] : this.connectors[5].data.value;\n        const lineWidth = \"7\" in inputs ? inputs[7] : this.connectors[7].data.value;\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = x;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = y;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = width;\n                draft[nodeId].connectors[4].data.disabled = \"4\" in inputs;\n                draft[nodeId].connectors[4].data.value = height;\n                draft[nodeId].connectors[7].data.disabled = \"7\" in inputs;\n                draft[nodeId].connectors[7].data.value = lineWidth;\n            })\n        );\n\n        const type = this.connectors[6].data.selected_index;\n        const draw = (ctx: CanvasRenderingContext2D): void => {\n            if(type === 0) {\n                ctx.fillStyle = color;\n                ctx.fillRect(x, y, width, height);\n                ctx.fillStyle = \"black\";\n            }\n            else if(type === 1) {\n                ctx.strokeStyle = color;\n                const oldLineWidth = ctx.lineWidth;\n                ctx.lineWidth = lineWidth;\n                ctx.strokeRect(x, y, width, height);\n                ctx.lineWidth = oldLineWidth;\n                ctx.strokeStyle = \"black\";\n            }\n            else if(type === 2) {\n                ctx.clearRect(x, y, width, height);\n            } \n        };\n\n        return { \"0\": draw };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class RotateNode extends Node {\n    constructor() {\n        super(NodeName.Rotate, 150, {x:0, y:0}, {\n            0: { name: \"draw\", pinLayout: PinLayout.BOTH_PINS, contentType: \"none\", data: {} },\n            1: {\n                name: \"angle\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0 }\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : RotateNode {\n        let node = new RotateNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        let rotation = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        rotation = (rotation * Math.PI) / 180;\n        \n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = rotation;\n            })\n        );\n        \n        const drawWithRotation = (ctx: CanvasRenderingContext2D): void => {\n            ctx.rotate(rotation);\n            if (inputs[0]) {\n                inputs[0].forEach((draw: (arg0: CanvasRenderingContext2D) => void) => {\n                    draw(ctx);\n                });\n            }\n            ctx.rotate(-rotation);\n        };\n        return { \"0\": drawWithRotation };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class NumberNode extends Node {\n    constructor() {\n        super(NodeName.Number, 170, {x:0, y:0}, {\n            0: {\n                name: \"number\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"number\",\n                data: { value: 0 }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : NumberNode {\n        let node = new NumberNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(): { [id: string]: any } {\n        return { \"0\": Number(this.connectors[0].data.value) };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class ColorNode extends Node {\n    constructor() {\n        super(NodeName.Color, 150, {x:0, y:0}, {\n            0: { \n                name: \"color\", \n                pinLayout: PinLayout.RIGHT_PIN, \n                contentType: \"canvas\", \n                data: { canvas_width: 150 - 30, canvas_height: 40, canvas_color: \"black\" },\n                rightPinColor: \"orange\"\n            },\n            1: { \n                name: \"red\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 0 } \n            },\n            2: { \n                name: \"green\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 0 } \n            },\n            3: { \n                name: \"blue\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 0 } \n            },\n            4: { \n                name: \"alpha\", \n                pinLayout: PinLayout.LEFT_PIN, \n                contentType: \"number\", \n                data: { value: 1 } \n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : ColorNode {\n        let node = new ColorNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        let red = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        let green = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        let blue = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n        let alpha = \"4\" in inputs ? inputs[4] : this.connectors[4].data.value;\n        \n        red = red > 255 ? 255 : red < 0 ? 0 : red;\n        green = green > 255 ? 255 : green < 0 ? 0 : green;\n        blue = blue > 255 ? 255 : blue < 0 ? 0 : blue;\n        alpha = alpha > 1 ? 1 : alpha < 0 ? 0 : alpha;\n        const colorCode = `rgba(${red}, ${green}, ${blue}, ${alpha})`;\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.canvas_width = this.width - 30;\n                draft[nodeId].connectors[0].data.canvas_color = colorCode;\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = red;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = green;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = blue;\n                draft[nodeId].connectors[4].data.disabled = \"4\" in inputs;\n                draft[nodeId].connectors[4].data.value = alpha;\n            })\n        );\n\n        return { \"0\": colorCode };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class TimerNode extends Node {\n    constructor() {\n        super(NodeName.Timer, 150, {x:0, y:0}, {\n            0: { name: \"count\", pinLayout: PinLayout.RIGHT_PIN, contentType: \"number\", data: { value: \"0\" } },\n            1: { name: \"is_running\", pinLayout: PinLayout.NO_PINS, contentType: \"check_box\", data: { value: false } }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : TimerNode {\n        let node = new TimerNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }): { [id: string]: any } {\n        return { \"0\": this.connectors[0].data.value };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class TranslateNode extends Node {\n    constructor() {\n        super(NodeName.Translate, 100, {x:0, y:0}, {\n            0: { name: \"draw\", pinLayout: PinLayout.BOTH_PINS, contentType: \"none\", data: {} },\n            1: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0 }\n            },\n            2: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0 }\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : TranslateNode {\n        let node = new TranslateNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        let x = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        let y = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        \n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = x;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = y;\n            })\n        );\n\n        const drawWithTranslate = (ctx: CanvasRenderingContext2D): void => {\n            ctx.translate(x, y);\n            if (inputs[0]) {\n                inputs[0].forEach((draw: (arg0: CanvasRenderingContext2D) => void) => {\n                    draw(ctx);\n                });\n            }\n            ctx.translate(-x, -y);\n        };\n        return { \"0\": drawWithTranslate };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class IfElseNode extends Node {\n    constructor() {\n        super(NodeName.IfElse, 100, { x: 0, y: 0 }, {\n            0: {\n                name: \"out_value\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: {}\n            },\n            1: {\n                name: \"test\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"check_box\",\n                data: { value: false }\n            },\n            2: {\n                name: \"if_value\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: {}\n            },\n            3: {\n                name: \"else_value\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: {}\n            }\n        });\n    }\n\n    static createFromJson(json: string): IfElseNode {\n        let node = new IfElseNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const cond = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const if_value = \"2\" in inputs ? inputs[2] : null;\n        const else_value = \"3\" in inputs ? inputs[3] : null;\n        let ret = { \"0\": else_value };\n        if (cond) {\n            ret = { \"0\": if_value };\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = cond;\n            })\n        );\n\n        return ret;\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class StringNode extends Node {\n    constructor() {\n        super(NodeName.String, 100, {x:0, y:0}, {\n            0: {\n                name: \"string\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"string\",\n                data: { value: \"\" }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : StringNode {\n        let node = new StringNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(): { [id: string]: any } {\n        return { \"0\": this.connectors[0].data.value };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class SplitNode extends Node {\n    constructor() {\n        super(NodeName.Split, 100, {x:0, y:0}, {\n            0: {\n                name: \"out\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: {}\n            },\n            1: {\n                name: \"input\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"text_area\",\n                data: { value: \"\" }\n            },\n            2: {\n                name: \"separator\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"string\",\n                data: { value: \"\", height: \"20px\" }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : SplitNode {\n        let node = new SplitNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }): { [id: string]: any } {\n        const str: string = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const split = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        return { \"0\": str.split(new RegExp(split)) };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class OperationNode extends Node {\n    constructor() {\n        super(NodeName.Operation, 160, {x:0, y:0}, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: true }\n            },\n            1: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"add\", \"substract\", \"multiply\", \"divide\", \"modulo\", \"minimum\", \"maximum\", \"exp\", \"log\", \"log10\", \"negate\", \"sin\", \"cos\", \"tan\"],\n                    selected_index: 0\n                }\n            },\n            2: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : OperationNode {\n        let node = new OperationNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = Number(\"2\" in inputs ? inputs[2] : this.connectors[2].data.value);\n        const y = Number(\"3\" in inputs ? inputs[3] : this.connectors[3].data.value);\n\n        let value = 0;\n        switch(this.connectors[1].data.selected_index) {\n            case 0:\n                value = x + y;\n                break;\n            case 1:\n                value = x - y;\n                break;\n            case 2:\n                value = x * y;\n                break;\n            case 3:\n                value = isNaN(x / y) ? 0 : x / y;\n                break;\n            case 4:\n                value = isNaN(x % y) ? 0 : x % y;\n                break;\n            case 5:\n                value = x > y ? y : x;\n                break;\n            case 6:\n                value = x > y ? x : y;\n                break;\n            case 7:\n                value = Math.pow(x, y);\n                break;\n            case 8:\n                value = Math.log(x);\n                break;\n            case 9:\n                value = Math.log10(x);\n                break;\n            case 10:\n                value = -x;\n                break;\n            case 11:\n                value = Math.sin(x);\n                break;\n            case 12:\n                value = Math.cos(x);\n                break;\n            case 13:\n                value = Math.tan(x);\n                break;\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.value = value;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = x;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = y;\n            })\n        );\n\n        return { \"0\": value };\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class LogNode extends Node {\n    public inputs: any;\n\n    constructor() {\n        super(NodeName.Log, 100, { x: 0, y: 0 }, {\n            0: {\n                name: \"log\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"text_area\",\n                data: { value: \"\", disabled: true },\n                leftPinColor: \"red\"\n            }\n        });\n    }\n\n    static createFromJson(json: string): LogNode {\n        let node = new LogNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.value = \"0\" in inputs ? JSON.stringify(inputs[0]) : \"\";\n            })\n        );\n        return {};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class ArcNode extends Node {\n    constructor() {\n        super(NodeName.Arc, 200, {x:0, y:0}, {\n            0: { name: \"draw\", pinLayout: PinLayout.RIGHT_PIN, contentType: \"none\", data: {} },\n            1: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            2: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"radius\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 100, disabled: false }\n            },\n            4: {\n                name: \"start angle\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            5: {\n                name: \"end angle\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 2 * Math.PI, disabled: false }\n            },\n            6: {\n                name: \"color\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: { value: \"black\" },\n                leftPinColor: \"orange\"\n            },\n            7: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"fill\", \"stroke\"],\n                    selected_index: 0\n                }\n            },\n            8: {\n                name: \"line width\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 1, disabled: false }\n            },\n            9: {\n                name: \"counterclockwise\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"check_box\",\n                data: { value: false }\n            },\n        });\n    }\n\n    static createFromJson(jsonObj: any) : ArcNode {\n        let node = new ArcNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const y = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        const radius = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n        const start_angle = \"4\" in inputs ? inputs[4] : this.connectors[4].data.value;\n        const end_angle = \"5\" in inputs ? inputs[5] : this.connectors[5].data.value;\n        const color = \"6\" in inputs ? inputs[6] : this.connectors[6].data.value;\n        const lineWidth = \"8\" in inputs ? inputs[8] : this.connectors[8].data.value;\n        const counterclockwise = \"9\" in inputs ? inputs[9] : this.connectors[9].data.value;\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[1].data.disabled = \"1\" in inputs;\n                draft[nodeId].connectors[1].data.value = x;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = y;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = radius;\n                draft[nodeId].connectors[4].data.disabled = \"4\" in inputs;\n                draft[nodeId].connectors[4].data.value = start_angle;\n                draft[nodeId].connectors[5].data.disabled = \"5\" in inputs;\n                draft[nodeId].connectors[5].data.value = end_angle;\n                draft[nodeId].connectors[8].data.disabled = \"8\" in inputs;\n                draft[nodeId].connectors[8].data.value = lineWidth;\n            })\n        );\n\n        const type = this.connectors[7].data.selected_index;\n        const draw = (ctx: CanvasRenderingContext2D): void => {\n            if(type === 0) {\n                ctx.fillStyle = color;\n                ctx.beginPath();\n                ctx.arc(x, y, radius, start_angle, end_angle, counterclockwise);\n                ctx.closePath();\n                ctx.fill();\n                ctx.fillStyle = \"black\";\n            }\n            else if(type === 1) {\n                ctx.strokeStyle = color;\n                const oldLineWidth = ctx.lineWidth;\n                ctx.lineWidth = lineWidth;\n                ctx.beginPath();\n                ctx.arc(x, y, radius, start_angle, end_angle, counterclockwise);\n                ctx.closePath();\n                ctx.stroke();\n                ctx.lineWidth = oldLineWidth;\n                ctx.strokeStyle = \"black\";\n            }\n        };\n\n        return { \"0\": draw };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class CheckNode extends Node {\n    constructor() {\n        super(NodeName.Check, 160, {x:0, y:0}, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: { value: false, disabled: true }\n            },\n            1: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"===\", \"!==\", \"<\", \"<=\", \">\", \">=\"],\n                    selected_index: 0\n                }\n            },\n            2: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any) : CheckNode {\n        let node = new CheckNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = Number(\"2\" in inputs ? inputs[2] : this.connectors[2].data.value);\n        const y = Number(\"3\" in inputs ? inputs[3] : this.connectors[3].data.value);\n\n        let value = false;\n        switch(this.connectors[1].data.selected_index) {\n            case 0:\n                value = x === y;\n                break;\n            case 1:\n                value = x !== y;\n                break;\n            case 2:\n                value = x < y;\n                break;\n            case 3:\n                value = x <= y;\n                break;\n            case 4:\n                value = x > y;\n                break;\n            case 5:\n                value = x >= y;\n                break;\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.value = value;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = x;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = y;\n            })\n        );\n\n        return { \"0\": value };\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class BooleanNode extends Node {\n    constructor() {\n        super(NodeName.Boolean, 160, {x:0, y:0}, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: { value: false, disabled: true }\n            },\n            1: {\n                name: \"type\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"select\",\n                data: { \n                    values: [\"===\", \"!==\", \"&&\", '||', \"!\"],\n                    selected_index: 0\n                }\n            },\n            2: {\n                name: \"x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"check_box\",\n                data: { value: false }\n            },\n            3: {\n                name: \"y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"check_box\",\n                data: { value: false }\n            },\n        });\n    }\n\n    static createFromJson(jsonObj: any) : BooleanNode {\n        let node = new BooleanNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const x = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        const y = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n\n        let value = false;\n        switch(this.connectors[1].data.selected_index) {\n            case 0:\n                value = x === y;\n                break;\n            case 1:\n                value = x !== y;\n                break;\n            case 2:\n                value = x && y;\n                break;\n            case 3:\n                value = x || y;\n                break;\n            case 4:\n                value = !x;\n                break;\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.value = value;\n                draft[nodeId].connectors[2].data.disabled = \"2\" in inputs;\n                draft[nodeId].connectors[2].data.value = x;\n                draft[nodeId].connectors[3].data.disabled = \"3\" in inputs;\n                draft[nodeId].connectors[3].data.value = y;\n            })\n        );\n\n        return { \"0\": value };\n    }\n\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node, { TaskQueue } from \"./node\";\nimport { LinkCollection, NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\nimport { Dispatch, SetStateAction } from \"react\";\n\nexport class FunctionCallNode extends Node {\n\n    constructor() {\n        super(NodeName.FunctionCallNode, 150, { x: 0, y: 0 }, {\n            0: {\n                name: \"function_name\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"string\",\n                data: { value: \"\" },\n            },\n            1: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: {},\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any): FunctionCallNode {\n        let node = new FunctionCallNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n\n    registerfunctionRun(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection, queue: TaskQueue): boolean {\n        // 1. Fetch function node\n        const functionName = this.connectors[0].data.value;\n        const expectedConnectors: string[] = [];\n        let finNodeId: string = \"\";\n        Object.keys(nodes).forEach(nodeKey => {\n            const node = nodes[nodeKey];\n            if (node.name === NodeName.FunctionInputNode && node.connectors[0].data.value === functionName) {\n                finNodeId = nodeKey;\n                Object.keys(node.connectors).forEach(key => {\n                    if (Number(key) > 2 && node) {\n                        expectedConnectors.push(node.connectors[key].name);\n                    }\n                });\n            }\n        });\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                if (nodeId) {\n                    Object.keys(draft[nodeId].connectors).forEach((key) => {\n                        if (Number(key) > 1) {\n                            delete draft[nodeId].connectors[key];\n                        }\n                    });\n                    expectedConnectors.forEach((value, i) => {\n                        draft[nodeId].connectors[i + 2] = {\n                            name: value,\n                            pinLayout: PinLayout.LEFT_PIN,\n                            contentType: \"none\",\n                            data: {}\n                        }\n                    });\n                }\n            })\n        );\n\n        let fIns: any = {};\n        expectedConnectors.forEach((_, i) => {\n            if ((i + 2) in inputs) {\n                fIns[`${i + 3}`] = inputs[`${i + 2}`];\n            }\n        });\n\n        if (finNodeId.length > 0) {\n            queue.propateFunction(finNodeId, links, fIns);\n            return true;\n        }\n        return false;\n    }\n\n    computeSpecific(inputs: { [id: string]: any; }, nodeId: string, setNodes: Dispatch<SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection, queue: TaskQueue): { [id: string]: any; } {\n        // 1. Fetch function node\n        const functionName = this.connectors[0].data.value;\n        const expectedConnectors: string[] = [];\n        let finNodeId: string = \"\";\n        Object.keys(nodes).forEach(nodeKey => {\n            const node = nodes[nodeKey];\n            if (node.name === NodeName.FunctionInputNode && node.connectors[0].data.value === functionName) {\n                finNodeId = nodeKey;\n                Object.keys(node.connectors).forEach(key => {\n                    if (Number(key) > 2 && node) {\n                        expectedConnectors.push(node.connectors[key].name);\n                    }\n                });\n            }\n        });\n\n        let fIns: any = {};\n        expectedConnectors.forEach((_, i) => {\n            if ((i + 2) in inputs) {\n                fIns[`${i + 3}`] = inputs[`${i + 2}`];\n            }\n        });\n\n        if (finNodeId.length > 0) {\n            return { \"1\": queue.popResult() };\n        }\n\n        return {};\n    }\n}\n\nexport class FunctionInputNode extends Node {\n    public nodeId?: string;\n    public setNodes?: React.Dispatch<React.SetStateAction<NodeCollection>>;\n    constructor() {\n        super(NodeName.FunctionInputNode, 150, { x: 0, y: 0 }, {\n            0: {\n                name: \"name\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"string\",\n                data: { value: \"\" },\n            },\n            1: {\n                name: \"add\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"button\",\n                data: {\n                    label: \"add input\"\n                }\n            },\n            2: {\n                name: \"remove\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"button\",\n                data: {\n                    label: \"remove input\"\n                }\n            },\n        });\n        this.add = this.add.bind(this);\n        this.remove = this.remove.bind(this);\n        this.connectors[1].data.onClick = this.add;\n        this.connectors[2].data.onClick = this.remove;\n    }\n\n    add(node: Node) {\n        if (this.nodeId && this.setNodes) {\n            this.setNodes(\n                nodes => produce(nodes, (draft: NodeCollection) => {\n                    if (this.nodeId) {\n                        draft[this.nodeId].connectors[Object.keys(node.connectors).length] = {\n                            name: `param-${Object.keys(node.connectors).length - 2}`,\n                            pinLayout: PinLayout.RIGHT_PIN,\n                            contentType: \"string\",\n                            data: {\n                                value: `param-${Object.keys(node.connectors).length - 2}`\n                            }\n                        }\n                    }\n                })\n            );\n        }\n    }\n\n    remove(node: Node) {\n        if (Object.keys(node.connectors).length > 2) {\n\n        }\n    }\n\n    static createFromJson(jsonObj: any, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): FunctionInputNode {\n        let node = new FunctionInputNode();\n        Node.initFromJson(jsonObj, node);\n        node.nodeId = nodeId;\n        node.setNodes = setNodes;\n        node.connectors[1].data.onClick = node.add.bind(node);\n        node.connectors[2].data.onClick = node.remove.bind(node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        return inputs;\n    }\n}\n\nexport class FunctionOutputNode extends Node {\n    constructor() {\n        super(NodeName.FunctionOutputNode, 150, { x: 0, y: 0 }, {\n            0: {\n                name: \"function\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: {},\n                rightPinColor: \"orange\"\n            },\n            1: {\n                name: \"return\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: {},\n                rightPinColor: \"orange\"\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any): FunctionOutputNode {\n        let node = new FunctionOutputNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        return {};\n    }\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class ThreeJS extends Node {\n    constructor() {\n        super(NodeName.ThreeJS, 170, {x:0, y:0}, {\n            0: {\n                name: \"threejs\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"threejs\",\n                data: { }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : ThreeJS {\n        let node = new ThreeJS();\n        Node.initFromJson(json, node);\n        node.connectors[0].data = {};\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.obj = inputs[0] ? inputs[0][0] : undefined;\n            })\n        );\n        return {};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport * as THREE from \"three\";\n\n\n\nexport default class ThreeJSBox extends Node {\n    cube: THREE.Mesh<THREE.BoxGeometry, THREE.MeshBasicMaterial>;\n\n    constructor() {\n        super(NodeName.ThreeJSBox, 170, {x:0, y:0}, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"node\",\n                data: {}\n            },\n            1: {\n                name: \"rotation_x\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            2: {\n                name: \"rotation_y\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            3: {\n                name: \"rotation_z\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"number\",\n                data: { value: 0, disabled: false }\n            },\n            4: {\n                name: \"color\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: { value: \"rgba(255,255,255,1)\" },\n                leftPinColor: \"orange\"\n            }\n        });\n        const geometry = new THREE.BoxGeometry( 1, 1, 1 );\n        const material = new THREE.MeshBasicMaterial( { color: 0xffffff } );\n        this.cube = new THREE.Mesh( geometry, material );\n    }\n\n    static createFromJson(json: string) : ThreeJSBox {\n        let node = new ThreeJSBox();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }): { [id: string]: any } {\n        const rotation_x = \"1\" in inputs ? inputs[1] : this.connectors[1].data.value;\n        const rotation_y = \"2\" in inputs ? inputs[2] : this.connectors[2].data.value;\n        const rotation_z = \"3\" in inputs ? inputs[3] : this.connectors[3].data.value;\n        const color = \"4\" in inputs ? inputs[4] : this.connectors[4].data.value;\n\n        this.cube.material.color.setStyle(color);\n        this.cube.rotation.set(rotation_x, rotation_y, rotation_z);\n        \n        return {\"0\": this.cube};\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class RangeNode extends Node {\n    constructor() {\n        super(NodeName.Range, 170, {x:0, y:0}, {\n            0: {\n                name: \"count\",\n                pinLayout: PinLayout.BOTH_PINS,\n                contentType: \"number\",\n                data: { value: 0 }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : RangeNode {\n        let node = new RangeNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const count = Number(\"0\" in inputs ? inputs[0] : this.connectors[0].data.value);\n        const array = [];\n        let cur = 0;\n        while(cur < count) {\n            array.push(cur);\n            cur++;\n        }\n\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.disabled = \"0\" in inputs;\n            })\n        );\n\n        return { \"0\": array };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node, { TaskQueue } from \"./node\";\nimport { LinkCollection, NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport { Dispatch, SetStateAction } from \"react\";\n\nexport class MapNode extends Node {\n\n    constructor() {\n        super(NodeName.Map, 150, { x: 0, y: 0 }, {\n            0: {\n                name: \"output\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: {},\n            },\n            1: {\n                name: \"input\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: {},\n            },\n            2: {\n                name: \"f\",\n                pinLayout: PinLayout.NO_PINS,\n                contentType: \"string\",\n                data: { value: \"\" },\n            }\n        });\n    }\n\n    static createFromJson(jsonObj: any): MapNode {\n        let node = new MapNode();\n        Node.initFromJson(jsonObj, node);\n        return node;\n    }\n\n    registerfunctionRun(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection, queue: TaskQueue): boolean {\n        // 1. Fetch function node\n        const functionName = this.connectors[2].data.value;\n        let finNodeId: string = \"\";\n        Object.keys(nodes).forEach(nodeKey => {\n            const node = nodes[nodeKey];\n            if (node.name === NodeName.FunctionInputNode && node.connectors[0].data.value === functionName) {\n                finNodeId = nodeKey;\n            }\n        });\n\n        if (!(\"1\" in inputs) || finNodeId === \"\") {\n            return false;\n        }\n        inputs[1].forEach((e: any, i: number) => {\n            let fIns: any = {};\n            fIns[\"3\"] = e;\n            fIns[\"4\"] = i;\n            queue.propateFunction(finNodeId, links, fIns);\n        });\n\n        return true;\n    }\n\n    computeSpecific(inputs: { [id: string]: any; }, nodeId: string, setNodes: Dispatch<SetStateAction<NodeCollection>>, nodes: NodeCollection, links: LinkCollection, queue: TaskQueue): { [id: string]: any; } {\n        // 1. Fetch function node\n        const functionName = this.connectors[2].data.value;\n        let finNodeId: string = \"\";\n        Object.keys(nodes).forEach(nodeKey => {\n            const node = nodes[nodeKey];\n            if (node.name === NodeName.FunctionInputNode && node.connectors[0].data.value === functionName) {\n                finNodeId = nodeKey;\n            }\n        });\n\n        if (!(\"1\" in inputs) || finNodeId === \"\") {\n            return { \"0\": [] };\n        }\n        const res = [] as any[];\n        inputs[1].forEach((e: any, i: number) => {\n            res.push(queue.popResult());\n\n        });\n        return { \"0\": res };\n    }\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\n\nexport default class TextAreaNode extends Node {\n    constructor() {\n        super(NodeName.TextArea, 100, {x:0, y:0}, {\n            0: {\n                name: \"string\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"text_area\",\n                data: { value: \"\" }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : TextAreaNode {\n        let node = new TextAreaNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(): { [id: string]: any } {\n        return { \"0\": this.connectors[0].data.value };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class PopNode extends Node {\n    constructor() {\n        super(NodeName.Pop, 170, {x:0, y:0}, {\n            0: {\n                name: \"array\",\n                pinLayout: PinLayout.BOTH_PINS,\n                contentType: \"none\",\n                data: { }\n            },\n            1: {\n                name: \"element\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"none\",\n                data: { }\n            }\n        });\n    }\n\n    static createFromJson(json: string) : PopNode {\n        let node = new PopNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }): { [id: string]: any } {\n        const array = \"0\" in inputs ? inputs[0] : [];\n        const length = array ? array.length : 0;\n        let elem = undefined;\n        const newArray = produce(array, (draft: any) => {\n            if(length > 0) {\n                elem = draft.pop();\n            }\n        });\n        return { \"0\": newArray, \"1\": elem };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Node from \"./node\";\nimport { NodeCollection, PinLayout } from \"oura-node-editor\";\nimport { NodeName } from \"./consts\";\nimport produce from \"immer\";\n\nexport default class LengthNode extends Node {\n    constructor() {\n        super(NodeName.Length, 170, { x: 0, y: 0 }, {\n            0: {\n                name: \"size\",\n                pinLayout: PinLayout.RIGHT_PIN,\n                contentType: \"number\",\n                data: { value: \"0\", disabled: true }\n            },\n            1: {\n                name: \"array\",\n                pinLayout: PinLayout.LEFT_PIN,\n                contentType: \"none\",\n                data: {}\n            }\n        });\n    }\n\n    static createFromJson(json: string): LengthNode {\n        let node = new LengthNode();\n        Node.initFromJson(json, node);\n        return node;\n    }\n\n    computeSpecific(inputs: { [id: string]: any }, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>): { [id: string]: any } {\n        const array = \"1\" in inputs ? inputs[1] : [];\n        const length = array ? array.length : 0;\n        setNodes(\n            nodes => produce(nodes, (draft: NodeCollection) => {\n                draft[nodeId].connectors[0].data.disabled = true;\n                draft[nodeId].connectors[0].data.value = length;\n            })\n        );\n        return { \"0\": length };\n    }\n}\n","import { NodeCollection, NodeModel } from \"oura-node-editor\";\n\nimport Node from \"./node\";\nimport CanvasNode from \"./canvas\";\nimport RectangleNode from \"./rectangle\";\nimport RotateNode from \"./rotate\";\nimport NumberNode from \"./number\";\nimport ColorNode from \"./color\";\nimport TimerNode from \"./timer\";\nimport { NodeName } from \"./consts\";\nimport TranslateNode from \"./translate\";\nimport IfElseNode from \"./if_else\";\nimport StringNode from \"./string\";\nimport SplitNode from \"./split\";\nimport OperationNode from \"./operation\";\nimport LogNode from \"./log\";\nimport ArcNode from \"./arc\";\nimport CheckNode from \"./check\";\nimport BooleanNode from \"./boolean\";\nimport { FunctionCallNode, FunctionInputNode, FunctionOutputNode } from \"./function\";\nimport ThreeJS from \"./threejs\";\nimport ThreeJSBox from \"./threejs_box\";\nimport RangeNode from \"./range\";\nimport { MapNode } from \"./map\";\nimport TextAreaNode from \"./textArea\";\nimport PopNode from \"./pop\";\nimport LengthNode from \"./length\";\n\nfunction createNodeSchema(): { [nId: string]: NodeModel } {\n    return {\n        0: new CanvasNode(),\n        1: new RectangleNode(),\n        2: new RotateNode(),\n        3: new NumberNode(),\n        4: new TimerNode(),\n        5: new ColorNode(),\n        6: new TranslateNode(),\n        7: new IfElseNode(),\n        8: new StringNode(),\n        9: new SplitNode(),\n        10: new OperationNode(),\n        11: new LogNode(),\n        12: new ArcNode(),\n        13: new CheckNode(),\n        14: new BooleanNode(),\n        15: new FunctionInputNode(),\n        16: new FunctionOutputNode(),\n        17: new FunctionCallNode(),\n        18: new ThreeJS(),\n        19: new ThreeJSBox(),\n        20: new RangeNode(),\n        21: new MapNode(),\n        22: new TextAreaNode(),\n        23: new PopNode(),\n        24: new LengthNode()\n    };\n}\n\nfunction createNodeFromJson(jsonObj: any, nodeId: string, setNodes: React.Dispatch<React.SetStateAction<NodeCollection>>) : Node {\n    let node: Node | undefined = undefined;\n    switch(jsonObj.name) {\n        case NodeName.Canvas:\n            node = CanvasNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Color:\n            node = ColorNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Number:\n            node = NumberNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Rectangle:\n            node = RectangleNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Rotate:\n            node = RotateNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Timer:\n            node = TimerNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Translate:\n            node = TranslateNode.createFromJson(jsonObj);\n            break;\n        case NodeName.IfElse:\n            node = IfElseNode.createFromJson(jsonObj);\n            break;\n        case NodeName.String:\n            node = StringNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Split:\n            node = SplitNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Operation:\n            node = OperationNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Log:\n            node = LogNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Arc:\n            node = ArcNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Check:\n            node = CheckNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Boolean:\n            node = BooleanNode.createFromJson(jsonObj);\n            break;\n        case NodeName.FunctionInputNode:\n            node = FunctionInputNode.createFromJson(jsonObj, nodeId, setNodes);\n            break;\n        case NodeName.FunctionOutputNode:\n            node = FunctionOutputNode.createFromJson(jsonObj);\n            break;\n        case NodeName.FunctionCallNode:\n            node = FunctionCallNode.createFromJson(jsonObj);\n            break;\n        case NodeName.ThreeJS:\n            node = ThreeJS.createFromJson(jsonObj);\n            break;\n        case NodeName.ThreeJSBox:\n            node = ThreeJSBox.createFromJson(jsonObj);\n            break;\n        case NodeName.Range:\n            node = RangeNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Map:\n            node = MapNode.createFromJson(jsonObj);\n            break;\n        case NodeName.TextArea:\n            node = TextAreaNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Pop:\n            node = PopNode.createFromJson(jsonObj);\n            break;\n        case NodeName.Length:\n            node = LengthNode.createFromJson(jsonObj);\n            break;\n    }\n    if(!node) {\n        throw new Error(\"Error while reading node from json\"); \n    }\n    return node;\n}\n\nexport { Node, CanvasNode, createNodeSchema, createNodeFromJson };\n","import { useEffect, useRef } from \"react\";\nimport { ConnectorContentProps } from \"oura-node-editor\";\n\nconst Canvas = (props : ConnectorContentProps): JSX.Element => {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n\n    useEffect(() => {\n        if(canvasRef.current) {\n            const ctx = canvasRef.current.getContext(\"2d\");\n            if(ctx && props.connector.data.canvas_draw) {\n                props.connector.data.canvas_draw(ctx);\n            }\n        }\n    }, [canvasRef, props.connector.data]);\n\n    return (\n        <>\n            <div style={{position: \"absolute\", zIndex: 0.1, backgroundColor: props.connector.data.canvas_color, width: props.connector.data.canvas_width, height: props.connector.data.canvas_height}}></div>\n            <canvas style={{position: \"relative\", imageRendering: \"auto\"}} width={props.connector.data.canvas_width} height={props.connector.data.canvas_height} ref={canvasRef} />\n        </>\n    );\n};\n\nexport default Canvas;\n","import { ConnectorContentProps } from \"oura-node-editor\";\nimport * as THREE from \"three\";\nimport { useEffect, useRef } from \"react\";\n\nconst ThreeJs = (props: ConnectorContentProps): JSX.Element => {\n    const divRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (divRef.current) {\n            const div = divRef.current;\n            const scene = new THREE.Scene();\n            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n            const renderer = new THREE.WebGLRenderer();\n            const light = new THREE.PointLight( 0xff0000, 1, 100 );\n            light.position.set( 1, 1, 1 );\n            scene.add(light);\n            renderer.setSize(500, 500);\n            div.appendChild(renderer.domElement);\n            camera.position.z = 5;\n\n            if (props.connector.data.obj) {\n                scene.add(props.connector.data.obj)\n            }\n\n            let id = 0;\n            const animate = () => {\n                id = requestAnimationFrame( animate );\n                renderer.render( scene, camera );\n            }\n            animate();\n\n            return () => {\n                cancelAnimationFrame(id);\n                div.removeChild(renderer.domElement);\n                renderer.dispose();\n            }\n        }\n    }, [divRef, props.connector.data]);\n\n    return (\n        <div style={{ width: 500, height: 500 }} ref={divRef}></div>\n    );\n};\n\nexport default ThreeJs;\n\n","import { ConnectorContentProps } from \"oura-node-editor\";\nimport Canvas from \"./canvas\";\nimport ThreeJs from \"./threejs\";\n\nexport function createCustomConnectorsContents(props: ConnectorContentProps): JSX.Element | null {\n    const { connector } = props;\n    if (connector.contentType === \"canvas\") {\n        return <Canvas {...props} />\n    }\n    if (connector.contentType === \"threejs\") {\n        return <ThreeJs {...props} />\n    }\n    return null;\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { produce } from \"immer\";\n\nimport {\n    NodeEditor,\n    LinkModel,\n    PanZoomModel,\n    generateUuid,\n    ConnectorModel,\n    NodeCollection,\n    LinkCollection,\n    NodeModel,\n    XYPosition,\n    SelectionItem,\n    AddNodeContextualMenu,\n    SelectionManagementContextualMenu\n} from \"oura-node-editor\";\nimport { createNodeFromJson, createNodeSchema } from \"./nodes\";\nimport { createCustomConnectorsContents } from \"./connector_content\";\nimport { TaskQueue } from \"./nodes/node\";\n\nlet taskQueue: TaskQueue = new TaskQueue();\n\nconst OuraCanvasApp = (): JSX.Element => {\n\n    const [nodePickerPos, setNodePickerPos] = React.useState<XYPosition | null>(null);\n    const [nodePickerOnMouseHover, setNodePickerOnMouseHover] = React.useState<boolean>(false);\n    const [panZoomInfo, setPanZoomInfo] = React.useState<PanZoomModel>({\n        zoom: 1,\n        topLeftCorner: { x: 0, y: 0 }\n    });\n    const [selectedItems, setSelectedItems] = React.useState<SelectionItem[]>([]);\n    const [nodes, setNodes] = React.useState<NodeCollection>({});\n    const [links, setLinks] = React.useState<LinkCollection>({});\n\n    const [runFirstPropagation, setRunFirstPropagation] = React.useState(false);\n    useEffect(() => {\n        const locallyStoredNodes = localStorage.getItem(\"nodes\");\n        const locallyStoredLinks = localStorage.getItem(\"links\");\n        const initNodes: NodeCollection = locallyStoredNodes ? JSON.parse(locallyStoredNodes) : {};\n        const initLinks: LinkCollection = locallyStoredLinks ? JSON.parse(locallyStoredLinks) : {};\n        if (locallyStoredNodes) {\n            Object.keys(initNodes).forEach((key) => {\n                initNodes[key] = createNodeFromJson(initNodes[key], key, setNodes);\n            });\n        }\n        setLinks(initLinks);\n        setNodes(initNodes);\n        setRunFirstPropagation(true);\n    }, []);\n\n    React.useEffect(() => {\n        if (runFirstPropagation) {\n            setRunFirstPropagation(false);\n            taskQueue.propagateAll(nodes, links);\n            taskQueue.runAll(nodes, links, setNodes);\n        }\n    }, [runFirstPropagation, links, nodes]);\n\n    useEffect(() => {\n        if (Object.keys(nodes).length > 0) {\n            localStorage.setItem(\"nodes\", JSON.stringify(nodes));\n        }\n    }, [nodes]);\n    useEffect(() => {\n        if (Object.keys(links).length > 0) {\n            localStorage.setItem(\"links\", JSON.stringify(links));\n        }\n    }, [links]);\n\n    const nodesSchemas: { [nId: string]: NodeModel } = createNodeSchema();\n\n    const setSelectedItemsAndMoveSelectedNodeFront = useCallback((selection: SelectionItem[]) => {\n        if (selection.length === 1 && selection[0].type === \"node\") {\n            setNodes(\n                (nodes: NodeCollection) => {\n                    const selectedNodeId = selection[0].id;\n                    const newNodes: NodeCollection = {};\n                    Object.keys(nodes).forEach(key => {\n                        if (key !== selectedNodeId) {\n                            newNodes[key] = nodes[key];\n                        }\n                    });\n                    newNodes[selectedNodeId] = nodes[selectedNodeId];\n                    return newNodes;\n                })\n        }\n        setSelectedItems(selection);\n    }, []);\n\n    React.useEffect(() => {\n        const interval = setInterval(() => {\n            const updated: string[] = [];\n            const newNodes = produce(nodes, (draft: NodeCollection) => {\n                for (let key of Object.keys(nodes)) {\n                    if (draft[key].name === \"timer\" && draft[key].connectors[1].data.value) {\n                        draft[key].connectors[0].data.value = (Number(draft[key].connectors[0].data.value) + 1).toString();\n                        updated.push(key);\n                    }\n                }\n            });\n            if (updated.length > 0) {\n                setNodes(newNodes);\n                updated.forEach(k => taskQueue.propagateNode(k, newNodes, links));\n                taskQueue.runAll(newNodes, links, setNodes);\n            }\n        }, 1000 / 60);\n        return () => clearInterval(interval);\n    }, [nodes, links]);\n\n    const onNodeMove = React.useCallback(\n        (id: string, newX: number, newY: number, newWidth: number) => {\n            setNodes(\n                nodes => produce(nodes, (draft: NodeCollection) => {\n                    draft[id].position = { x: newX, y: newY };\n                    draft[id].width = newWidth;\n                })\n            );\n        }, []\n    );\n\n    const onCreateLink = React.useCallback(\n        (link: LinkModel) => {\n            setLinks(\n                links => produce(links, (draft) => {\n                    draft[generateUuid()] = link;\n                })\n            );\n            const newLinks = produce(links, (draft) => {\n                draft[generateUuid()] = link;\n            });\n            taskQueue.propagateNode(link.outputNodeId, nodes, newLinks);\n            taskQueue.runAll(nodes, newLinks, setNodes);\n        }, [links, nodes]\n    );\n\n    const onDeleteSelection = React.useCallback(\n        () => {\n            const deleteNodeIds = selectedItems.filter((value: SelectionItem) => value.type === \"node\").map((value) => value.id);\n            const deletedLinksIds = selectedItems.filter((value: SelectionItem) => value.type === \"link\").map((value) => value.id);\n            setNodes(\n                nodes => produce(nodes, (draft: NodeCollection) => {\n                    deleteNodeIds.forEach((id) => {\n                        delete draft[id];\n                    });\n                })\n            );\n            setLinks(\n                links => produce(links, (draft: LinkCollection) => {\n                    Object.keys(links).forEach(linkKey => {\n                        const link = links[linkKey];\n                        if (deleteNodeIds.includes(link.inputNodeId) || deleteNodeIds.includes(link.outputNodeId)) {\n                            delete draft[linkKey];\n                        }\n                    });\n                    deletedLinksIds.forEach((id) => {\n                        delete draft[id];\n                    });\n                })\n            );\n\n            const newNodes = produce(nodes, (draft: NodeCollection) => {\n                deleteNodeIds.forEach((id) => {\n                    delete draft[id];\n                });\n            });\n            const nodeIdToRecompute: string[] = [];\n            const newLinks = produce(links, (draft: LinkCollection) => {\n                Object.keys(links).forEach(linkKey => {\n                    const link = links[linkKey];\n                    if (deleteNodeIds.includes(link.inputNodeId) || deleteNodeIds.includes(link.outputNodeId)) {\n                        if (deleteNodeIds.includes(link.outputNodeId) && !deleteNodeIds.includes(link.inputNodeId)) {\n                            nodeIdToRecompute.push(link.inputNodeId);\n                        }\n                        delete draft[linkKey];\n                    }\n                });\n                deletedLinksIds.forEach((id) => {\n                    delete draft[id];\n                });\n            });\n            // TODO purge taskQueue\n            //Object.keys(propagationValues).forEach(key => {\n            //    if (!(key in newLinks)) {\n            //        delete propagationValues[key];\n            //    }\n            //});\n            nodeIdToRecompute.forEach(nodeId => {\n                taskQueue.propagateNode(nodeId, newNodes, newLinks);\n                taskQueue.runAll(newNodes, newLinks, setNodes);\n            });\n        },\n        [selectedItems, nodes, links]\n    );\n\n    const [newNodeId, setNewNodeId] = useState<string | undefined>(undefined);\n    useEffect(() => {\n        if (newNodeId) {\n            taskQueue.propagateNode(newNodeId, nodes, links);\n            taskQueue.runAll(nodes, links, setNodes);\n            setNewNodeId(undefined);\n        }\n    }, [newNodeId, nodes, links]);\n    const onNodeSelection = React.useCallback(\n        (id: string) => {\n            if (nodePickerPos) {\n                const newNodeId = generateUuid();\n                setNodes(\n                    nodes => produce(nodes, (draft) => {\n                        const jsonObj = JSON.parse(JSON.stringify(nodesSchemas[id]));\n                        const newNode = createNodeFromJson(jsonObj, newNodeId, setNodes);\n                        const newX =\n                            -panZoomInfo.topLeftCorner.x / panZoomInfo.zoom +\n                            nodePickerPos.x / panZoomInfo.zoom;\n                        const newY =\n                            -panZoomInfo.topLeftCorner.y / panZoomInfo.zoom +\n                            nodePickerPos.y / panZoomInfo.zoom;\n                        newNode.position = { x: newX, y: newY };\n                        draft[newNodeId] = newNode;\n                    })\n                );\n                setNewNodeId(newNodeId);\n                setNodePickerOnMouseHover(false);\n                setNodePickerPos(null);\n            }\n        },\n        [panZoomInfo, nodePickerPos, nodesSchemas]\n    );\n\n    const onConnectorUpdate = React.useCallback(\n        (nodeId: string, cId: string, connector: ConnectorModel) => {\n            setNodes(\n                nodes => produce(nodes, (draft) => {\n                    draft[nodeId].connectors[cId] = connector;\n                })\n            );\n            const newNodes = produce(nodes, (draft) => {\n                draft[nodeId].connectors[cId] = connector;\n            });\n            taskQueue.propagateNode(nodeId, newNodes, links);\n            taskQueue.runAll(newNodes, links, setNodes);\n        }, [nodes, links]\n    );\n\n    const onContextMenu = React.useCallback(\n        (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            event.preventDefault();\n            if (!nodePickerPos) {\n                setNodePickerPos({ x: event.pageX, y: event.pageY });\n            } else {\n                setNodePickerOnMouseHover(false);\n                setNodePickerPos(null);\n            }\n        },\n        [nodePickerPos]\n    );\n\n    const onMouseDown = React.useCallback(\n        () => {\n            if (nodePickerPos && !nodePickerOnMouseHover) {\n                setNodePickerOnMouseHover(false);\n                setNodePickerPos(null);\n            }\n        },\n        [nodePickerOnMouseHover, nodePickerPos, setNodePickerPos]\n    );\n\n    const onSaveButton = useCallback(() => {\n        const data = {\n            \"nodes\": nodes,\n            \"links\": links\n        };\n\n        const element = document.createElement('a');\n        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(JSON.stringify(data)));\n        element.setAttribute('download', \"oura-node-editor.json\");\n\n        element.style.display = 'none';\n        document.body.appendChild(element);\n\n        element.click();\n\n        document.body.removeChild(element);\n    }, [nodes, links]);\n\n    const onLoadButton = useCallback((evt) => {\n        taskQueue.reset();\n        if (evt.target.files.size < 1) {\n            return;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (file) => {\n            if (file.target && file.target.result && file.target.result) {\n                const data = JSON.parse(atob((file.target.result as string).substring(29)));\n                Object.keys(data.nodes).forEach((key) => {\n                    data.nodes[key] = createNodeFromJson(data.nodes[key], key, setNodes);\n                });\n                setNodes(data.nodes);\n                setLinks(data.links);\n                setRunFirstPropagation(true);\n            }\n        };\n        reader.readAsDataURL(evt.target.files[0]);\n    }, []);\n\n    const onResetButton = useCallback(() => {\n        taskQueue.reset();\n        setNodes({});\n        setLinks({});\n    }, []);\n\n    let nodePicker = null;\n    if (nodePickerPos && selectedItems.length === 0) {\n        nodePicker = <div\n            style={{\n                width: 640,\n                height: 500,\n                position: \"absolute\",\n                top: nodePickerPos.y,\n                left: nodePickerPos.x,\n                backgroundColor: \"white\"\n            }}>\n            <AddNodeContextualMenu\n                nodesSchema={nodesSchemas}\n                onNodeSelection={onNodeSelection}\n                onMouseHover={setNodePickerOnMouseHover}\n                createCustomConnectorComponent={createCustomConnectorsContents}\n            />\n        </div>;\n    }\n    else if (nodePickerPos) {\n        nodePicker = <div\n            style={{\n                width: 640,\n                height: 480,\n                position: \"absolute\",\n                top: nodePickerPos.y,\n                left: nodePickerPos.x,\n                backgroundColor: \"white\"\n            }}>\n            <SelectionManagementContextualMenu\n                onMouseHover={setNodePickerOnMouseHover}\n                onDeleteSelection={onDeleteSelection}\n            />\n        </div>\n    }\n\n    const buttonStyle = {\n        font: \"bold 11px Arial\",\n        textDecoration: \"none\",\n        backgroundColor: \"#EEEEEE\",\n        color: \"#333333\",\n        padding: \"2px 6px 2px 6px\",\n        borderTop: \"1px solid #CCCCCC\",\n        borderRight: \"1px solid #333333\",\n        borderBottom: \"1px solid #333333\",\n        borderLeft: \"1px solid #CCCCCC\"\n    };\n\n    return (\n        <>\n            <div\n                style={{ width: \"100%\", height: \"100%\" }}\n                onContextMenu={onContextMenu}\n                onMouseDown={onMouseDown}\n                tabIndex={0}>\n                <NodeEditor\n                    panZoomInfo={panZoomInfo}\n                    nodes={nodes}\n                    links={links}\n                    selectedItems={selectedItems}\n                    onPanZoomInfo={setPanZoomInfo}\n                    onSelectedItems={setSelectedItemsAndMoveSelectedNodeFront}\n                    onNodeMove={onNodeMove}\n                    onCreateLink={onCreateLink}\n                    onConnectorUpdate={onConnectorUpdate}\n                    createCustomConnectorComponent={createCustomConnectorsContents}\n                />\n                {nodePicker}\n            </div>\n            <button onClick={onSaveButton} style={{ position: \"absolute\", left: 5, bottom: 5, ...buttonStyle }}>save</button>\n            <label htmlFor=\"files\" className=\"btn\" style={{ position: \"absolute\", left: 55, bottom: 5, ...buttonStyle }}>load</label>\n            <input onChange={onLoadButton} id=\"files\" style={{ visibility: \"hidden\" }} type=\"file\" />\n            <button onClick={onResetButton} style={{ position: \"absolute\", right: 5, bottom: 5, ...buttonStyle }}>reset</button>\n        </>\n    );\n};\n\nexport default OuraCanvasApp;\n","import React from \"react\";\n\nimport OuraCanvasApp from \"./oura_canvas\";\n\nconst App = (): JSX.Element => (\n    <div style={{ width: \"100%\", height: \"100vh\" }} className=\"App\">\n        <OuraCanvasApp />\n    </div>\n);\n\nexport default App;\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst container = document.getElementById('root');\nconst root = createRoot(container!); // createRoot(container!) if you use TypeScript\nroot.render(<React.StrictMode><App /></React.StrictMode>);\n"],"sourceRoot":""}